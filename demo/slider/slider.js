!function(t){var e={};function i(s){if(e[s])return e[s].exports;var n=e[s]={i:s,l:!1,exports:{}};return t[s].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=e,i.d=function(t,e,s){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(s,n,function(e){return t[e]}.bind(null,n));return s},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=4)}([function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.defaultOptions={begin:null,end:null,range:!1,min:0,max:10,step:1,reverse:!1,length:"300px",vertical:!1,tooltip:!1,scale:!1}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(){this.listeners=[]}return t.prototype.subscribe=function(t){this.listeners.push(t)},t.prototype.notify=function(t){for(var e=0,i=this.listeners;e<i.length;e++){(0,i[e])(t)}},t}();e.Observable=s;var n=function(){function t(){this.listeners=[]}return t.prototype.subscribe=function(t){this.listeners.push(t)},t.prototype.notify=function(t,e){for(var i=0,s=this.listeners;i<s.length;i++){(0,s[i])(t,e)}},t}();e.ObservablePresenter=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isNumeric=function(t){return!isNaN(parseFloat(t))&&!isNaN(t-0)},e.deepEqual=function(t,e){return JSON.stringify(t)===JSON.stringify(e)},e.getNumberOfSteps=function(t,e,i){return Math.ceil((e-t)/i)}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(2),n={valuesAreNotNumbers:"All values, instead of customValues, should be numbers",valuesAreNotInteger:"All values, instead of customValues, should be integer",minIsOverMax:"Min value should be less then max value",minIsEqualToMax:"Min value cant be equal to max value",beginIsIgnored:"If it is not range, options begin is ignored",beginIsOverEnd:"Begin value should be less then end value",tooBigStep:"Step should be less then difference of max and min values",stepIsNull:"Step cant be equal to 0",reverseIsNotBoolean:"Option reverse should be true or false",customValuesIsNotArray:"CustomValues should be array",customValuesIsTooSmall:"CustomValues should contain at least two values",invalidLength:"Length should be valid to CSS",verticalIsNotBoolean:"Option vertical should be true or false",tooltipIsNotBoolean:"Option tooltip should be true or false",scaleIsNotBoolean:"Option scale should be true or false"};e.validateModel=function(t){var e=t.begin,i=t.end,o=t.range,r=t.min,a=t.max,l=t.step,u=t.reverse,h=t.customValues,c={},d=[r,a,l];return e&&d.push(e),i&&d.push(i),function(t){var e=!0;return t.forEach(function(t){s.isNumeric(t)||(e=!1)}),e}(d)||(c.valuesAreNotNumbers=n.valuesAreNotNumbers),function(t){var e=!0;return t.forEach(function(t){t%1!=0&&(e=!1)}),e}(d)||(c.valuesAreNotInteger=n.valuesAreNotInteger),r>a&&(c.minIsOverMax=n.minIsOverMax),r==a&&(c.minIsEqualToMax=n.minIsEqualToMax),!o&&e&&(c.beginIsIgnored=n.beginIsIgnored),o&&e>i&&(c.beginIsOverEnd=n.beginIsOverEnd),Math.abs(a-r)<Math.abs(l)&&(c.tooBigStep=n.tooBigStep),0==l&&(c.stepIsNull=n.stepIsNull),"boolean"!=typeof u&&(c.reverseIsNotBoolean=n.reverseIsNotBoolean),h&&(Array.isArray(h)||(c.customValuesIsNotArray=n.customValuesIsNotArray),!c.customValuesIsNotArray&&h.length<2&&(c.customValuesIsTooSmall=n.customValuesIsTooSmall)),c},e.validateView=function(t){var e={},i=t.length,s=t.vertical,o=t.tooltip,r=t.scale;return i.match(/^\d{1,3}[.,]?\d*(px|em|rem|%|vh|vw)?$/i)||(e.invalidLength=n.invalidLength),"boolean"!=typeof s&&(e.verticalIsNotBoolean=n.verticalIsNotBoolean),"boolean"!=typeof o&&(e.tooltipIsNotBoolean=n.tooltipIsNotBoolean),"boolean"!=typeof r&&(e.scaleIsNotBoolean=n.scaleIsNotBoolean),e}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),n=i(5);!function(t){var e={init:function(e){return this.each(function(){var i=t(this),o=i.data("sliderData"),r=i;if(!o){e=t.extend({},s.defaultOptions,e);var a=new n.default(e,this);t(this).data("sliderData",{node:r,slider:a})}})},getData:function(){return t(this).data("sliderData").slider.getData()},update:function(e){return this.each(function(){t(this).data("sliderData").slider.update(e)})},destroy:function(){return this.each(function(){var e=t(this),i=e.data("sliderData");t(window).unbind(".slider"),i.node.remove(),e.removeData("sliderData")})},observe:function(e){t(this).data("sliderData").slider.subscribe(e)}};jQuery.fn.slider=function(i){return e[i]?e[i].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof i&&i?void t.error("Method called "+i+" does not exist for JQuery.slider"):e.init.apply(this,arguments)}}(jQuery),$(".test").slider({end:6,begin:2,step:9,tooltip:!0,scale:!0,range:!0,reverse:!0})},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),i(6);var s=i(0),n=i(9),o=i(10),r=i(11),a=function(){function t(t,e){t=Object.assign({},s.defaultOptions,t),this._model=new n.default(t),t=Object.assign(t,this._model.getOptions()),this._view=new o.default(t,e),this._presenter=new r.default(this._model,this._view)}return t.prototype.subscribe=function(t){this._presenter.subscribe(t)},t.prototype.update=function(t){this._presenter.update(t)},t}();e.default=a},function(t,e,i){var s=i(7),n=i(8);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[t.i,n,""]]);var o={insert:"head",singleton:!1},r=(s(n,o),n.locals?n.locals:{});t.exports=r},function(t,e,i){"use strict";var s,n=function(){return void 0===s&&(s=Boolean(window&&document&&document.all&&!window.atob)),s},o=function(){var t={};return function(e){if(void 0===t[e]){var i=document.querySelector(e);if(window.HTMLIFrameElement&&i instanceof window.HTMLIFrameElement)try{i=i.contentDocument.head}catch(t){i=null}t[e]=i}return t[e]}}(),r=[];function a(t){for(var e=-1,i=0;i<r.length;i++)if(r[i].identifier===t){e=i;break}return e}function l(t,e){for(var i={},s=[],n=0;n<t.length;n++){var o=t[n],l=e.base?o[0]+e.base:o[0],u=i[l]||0,h="".concat(l," ").concat(u);i[l]=u+1;var c=a(h),d={css:o[1],media:o[2],sourceMap:o[3]};-1!==c?(r[c].references++,r[c].updater(d)):r.push({identifier:h,updater:_(d,e),references:1}),s.push(h)}return s}function u(t){var e=document.createElement("style"),s=t.attributes||{};if(void 0===s.nonce){var n=i.nc;n&&(s.nonce=n)}if(Object.keys(s).forEach(function(t){e.setAttribute(t,s[t])}),"function"==typeof t.insert)t.insert(e);else{var r=o(t.insert||"head");if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(e)}return e}var h,c=(h=[],function(t,e){return h[t]=e,h.filter(Boolean).join("\n")});function d(t,e,i,s){var n=i?"":s.media?"@media ".concat(s.media," {").concat(s.css,"}"):s.css;if(t.styleSheet)t.styleSheet.cssText=c(e,n);else{var o=document.createTextNode(n),r=t.childNodes;r[e]&&t.removeChild(r[e]),r.length?t.insertBefore(o,r[e]):t.appendChild(o)}}var p=null,f=0;function _(t,e){var i,s,n;if(e.singleton){var o=f++;i=p||(p=u(e)),s=d.bind(null,i,o,!1),n=d.bind(null,i,o,!0)}else i=u(e),s=function(t,e,i){var s=i.css,n=i.media,o=i.sourceMap;if(n?t.setAttribute("media",n):t.removeAttribute("media"),o&&btoa&&(s+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),t.styleSheet)t.styleSheet.cssText=s;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(s))}}.bind(null,i,e),n=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(i)};return s(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;s(t=e)}else n()}}t.exports=function(t,e){(e=e||{}).singleton||"boolean"==typeof e.singleton||(e.singleton=n());var i=l(t=t||[],e);return function(t){if(t=t||[],"[object Array]"===Object.prototype.toString.call(t)){for(var s=0;s<i.length;s++){var n=a(i[s]);r[n].references--}for(var o=l(t,e),u=0;u<i.length;u++){var h=a(i[u]);0===r[h].references&&(r[h].updater(),r.splice(h,1))}i=o}}}},function(t,e,i){},function(t,e,i){"use strict";var s,n=this&&this.__extends||(s=function(t,e){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}s(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(1),a=i(2),l=i(3),u=function(t){function e(e){var i,s=t.call(this)||this,n=Object.assign({},o.defaultOptions,e);return s.validate(n),i=s.normalize(n,o.defaultOptions),s.setOptions(i),s}return n(e,t),e.prototype.update=function(t){var e=this.getOptions();this.validate(Object.assign({},e,t));var i=this.normalize(t,e);this.setOptions(i),this.notify({type:"NEW_DATA",options:this.getOptions()})},e.prototype.setEndByOffsetRacio=function(t){var e=this.findValueByOffsetRacio(t);e<this._begin&&(e=this._begin),this._end=e,this.notify({type:"NEW_VALUE",options:this.getOptions()})},e.prototype.setBeginByOffsetRacio=function(t){if(this._range){var e=this.findValueByOffsetRacio(t);e>this._end&&(e=this._end),this._begin=e,this.notify({type:"NEW_VALUE",options:this.getOptions()})}},e.prototype.findValueByOffsetRacio=function(t){var e;return e=t*(this._max-this._min),e=this._reverse?this._max-e:this._min+e,e=this.findClosestValue(e,this.getOptions())},e.prototype.getOptions=function(){return{begin:this._begin,end:this._end,range:this._range,min:this._min,max:this._max,step:this._step,customValues:this._customValues,reverse:this._reverse}},e.prototype.getWarnings=function(){return Object.assign({},this._warnings)},e.prototype.setOptions=function(t){this._begin=t.begin,this._end=t.end,this._range=t.range,this._min=t.min,this._max=t.max,this._step=t.step,this._customValues=t.customValues,this._reverse=t.reverse},e.prototype.validate=function(t){if(this._warnings={},this._warnings=l.validateModel(t),0!=Object.keys(this._warnings).length){var e=Object.assign({},this._warnings);this.notify({type:"WARNINGS",warnings:e})}},e.prototype.normalize=function(t,e){var i,s,n=(t=Object.assign({},e,t)).begin,o=t.end,r=t.range,a=t.min,l=t.max,u=t.step,h=t.reverse,c=t.customValues;return(this._warnings.customValuesIsNotArray||this._warnings.customValuesIsTooSmall)&&(c=void 0),c&&(a=0,l=c.length-1),a=this.normalizeNumber(a,e.min),l=this.normalizeNumber(l,e.max),u=this.normalizeNumber(u,e.step),this._warnings.minIsOverMax&&(a=(i=[l,a])[0],l=i[1]),this._warnings.minIsEqualToMax&&(a=e.min,l=e.max),(this._warnings.stepIsNull||this._warnings.tooBigStep)&&(u=1),u=Math.abs(u),h=!!h,r=!!r,this._warnings.beginIsOverEnd&&(n=(s=[o,n])[0],o=s[1]),o=this.normalizeNumber(o,l),o=this.findClosestValue(o,t),r?(n=this.normalizeNumber(n,a),n=this.findClosestValue(n,t)):n=a,{begin:n,end:o,range:r,min:a,max:l,step:u,reverse:h,customValues:c}},e.prototype.normalizeNumber=function(t,e){var i=t;return a.isNumeric(t)||(i=e),i=Math.trunc(+i)},e.prototype.findClosestValue=function(t,e){var i,s,n=e.min,o=e.max,r=e.step,a=e.reverse;return t<=n?n:t>=o?o:(a?(i=o-Math.trunc((o-t)/r)*r-r,t=t<(s=o-Math.trunc((o-t)/r)*r)-(s-(i=i>n?i:n))/2?i:s):t=t<(i=Math.trunc((t-n)/r)*r)+((s=(s=Math.trunc((t-n)/r)*r+r)<o?s:o)-i)/2?i:s,t)},e}(r.Observable);e.default=u},function(t,e,i){"use strict";var s,n=this&&this.__extends||(s=function(t,e){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}s(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),r=i(1),a=i(2),l=i(3),u=function(t){function e(e,i){var s=t.call(this)||this;return e=Object.assign(o.defaultOptions,e),s.validate(e),s._slider=i,s._slider.classList.add("slider"),s.build(e),s}return n(e,t),e.prototype.update=function(t){this.setThumbs(t),this.setBarPosition(),(this._tooltip||this._tooltipFirst)&&this.setTooltipValues(t)},e.prototype.rerender=function(t){t=Object.assign({},this.getOptions(),t),this.validate(t),this.rebuild(t)},e.prototype.getOptions=function(){var t=!!this._tooltip||!!this._tooltipFirst,e=!!this._scale;return{length:this._length,vertical:this._vertical,tooltip:t,scale:e}},e.prototype.getWarnings=function(){return Object.assign({},this._warnings)},e.prototype.handleThumbDown=function(t){t.preventDefault(),t.stopPropagation(),this._activeThumb=t.currentTarget,document.addEventListener("mousemove",this.handleThumbMove),document.addEventListener("mouseup",this.handleThumbUp),document.addEventListener("touchmove",this.handleThumbMove),document.addEventListener("touchend",this.handleThumbUp)},e.prototype.handleThumbMove=function(t){var e,i=this.getLengthInPx(),s=this.getOffsetInPx();e=((t.touches?this._vertical?t.touches[0].clientY:t.touches[0].clientX:this._vertical?t.clientY:t.clientX)-s)/i,this._activeThumb==this._thumbLast?this.notify({type:"LAST_THUMB_MOVED",offsetRacio:e}):this.notify({type:"FIRST_THUMB_MOVED",offsetRacio:e})},e.prototype.handleSliderClick=function(t){var e,i,s=this.getLengthInPx(),n=this.getOffsetInPx();if(e=((t.touches?this._vertical?t.touches[0].clientY:t.touches[0].clientX:this._vertical?t.clientY:t.clientX)-n)/s,this._thumbFirst.classList.contains("slider__thumb_disabled"))i=!0;else if(this._thumbLast.classList.contains("slider__thumb_disabled"))i=!1;else{var o=this._vertical?"top":"left",r=parseInt(this._thumbFirst.style[o]),a=parseInt(this._thumbLast.style[o]);i=Math.abs(r/100-e)>Math.abs(a/100-e)}i?this.notify({type:"LAST_THUMB_MOVED",offsetRacio:e}):this.notify({type:"FIRST_THUMB_MOVED",offsetRacio:e})},e.prototype.handleThumbUp=function(t){document.removeEventListener("mouseup",this.handleThumbUp),document.removeEventListener("mousemove",this.handleThumbMove),document.removeEventListener("touchend",this.handleThumbUp),document.removeEventListener("touchmove",this.handleThumbMove),this._activeThumb=void 0},e.prototype.build=function(t){var e=this._length||o.defaultOptions.length;this._length=this.getValidLength(t.length,e),t.vertical?(this._vertical=!0,this._slider.style.height=this._length,this._slider.style.width=null,this._slider.classList.add("slider_vertical"),this._slider.classList.remove("slider_horizontal")):(this._vertical=!1,this._slider.style.width=this._length,this._slider.style.height=null,this._slider.classList.add("slider_horizontal"),this._slider.classList.remove("slider_vertical")),this._bar=this.buildNode(this._slider,"slider__bar"),this.buildThumbs(t),this.setBarPosition(),t.tooltip&&this.buildTooltips(t),t.scale&&this.buildScale(t),this.handleThumbDown=this.handleThumbDown.bind(this),this.handleThumbMove=this.handleThumbMove.bind(this),this.handleThumbUp=this.handleThumbUp.bind(this),this.handleSliderClick=this.handleSliderClick.bind(this),this._thumbFirst.addEventListener("mousedown",this.handleThumbDown),this._thumbFirst.addEventListener("touchstart",this.handleThumbDown),this._thumbLast.addEventListener("mousedown",this.handleThumbDown),this._thumbLast.addEventListener("touchstart",this.handleThumbDown),this._slider.addEventListener("click",this.handleSliderClick)},e.prototype.rebuild=function(t){var e=this.getOptions();for(var i in t=Object.assign({},e,t),this)if("_slider"!=i)try{this[i]=this.removeNode(this[i])}catch(t){}this.build(t)},e.prototype.validate=function(t){if(this._warnings={},this._warnings=l.validateView(t),0!=Object.keys(this._warnings).length){var e=Object.assign({},this._warnings);this.notify({type:"WARNINGS",warnings:e})}},e.prototype.buildThumbs=function(t){var e=t.range,i=t.reverse;this._thumbFirst=this.buildNode(this._slider,"slider__thumb","slider__thumb_first"),this._thumbLast=this.buildNode(this._slider,"slider__thumb","slider__thumb_last"),e||(i?this._thumbLast.classList.add("slider__thumb_disabled"):this._thumbFirst.classList.add("slider__thumb_disabled")),this.setThumbs(t)},e.prototype.setThumbs=function(t){var e=t.begin,i=t.end,s=t.reverse,n=this.findThumbPosition(e,t),o=this.findThumbPosition(i,t);s?(this.setThumbPosition(this._thumbFirst,o),this.setThumbPosition(this._thumbLast,n)):(this.setThumbPosition(this._thumbFirst,n),this.setThumbPosition(this._thumbLast,o))},e.prototype.setBarPosition=function(){var t,e,i=this._vertical?"top":"left",s=this._vertical?"height":"width";t=this._thumbFirst.style[i],e=this._thumbLast.style[i].slice(0,-1)-this._thumbFirst.style[i].slice(0,-1)+"%",this._bar.style[i]=t,this._bar.style[s]=e},e.prototype.buildTooltips=function(t){this._tooltipFirst=this.buildNode(this._thumbFirst,"slider__tooltip","slider__tooltip_first"),this._tooltipLast=this.buildNode(this._thumbLast,"slider__tooltip","slider__tooltip_last"),this.setTooltipValues(t)},e.prototype.buildScale=function(t){var e,i,s,n,o=t.min,r=t.max,l=t.step,u=t.reverse,h=t.customValues,c=r-o;(e=document.createElement("div")).classList.add("slider__scale");for(var d=0;d<=a.getNumberOfSteps(o,r,l);d++)u?(s=r-l*d,s=Math.max(s,o)):(s=o+l*d,s=Math.min(s,r)),n=(n=d*l<c?d*l:c)/c*100+"%",s=h?h[s]:s,(i=document.createElement("div")).classList.add("slider__scale-division"),i.innerHTML='<span class="slider__scale-division-text">'+s+"</span>",t.vertical?i.style.top=n:i.style.left=n,e.append(i);this._slider.prepend(e),this._scale=e},e.prototype.setTooltipValues=function(t){var e=t.begin,i=t.end,s=t.reverse,n=t.customValues,o=n?n[e]:e,r=n?n[i]:i;s?(this._tooltipFirst.textContent=r,this._tooltipLast.textContent=o):(this._tooltipFirst.textContent=o,this._tooltipLast.textContent=r)},e.prototype.setThumbPosition=function(t,e){this._vertical?(t.style.left=null,t.style.top=e):(t.style.top=null,t.style.left=e),this._thumbFirst&&(this._vertical||("100%"==this._thumbFirst.style.left||"100%"==this._thumbFirst.style.top?this._thumbFirst.style.zIndex="1":this._thumbFirst.style.zIndex=null))},e.prototype.findThumbPosition=function(t,e){var i=e.min,s=e.max;return e.reverse?(s-t)/(s-i)*100+"%":(t-i)/(s-i)*100+"%"},e.prototype.removeNode=function(t){t.remove()},e.prototype.buildNode=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];for(var s=document.createElement("div"),n=1;n<arguments.length;n++)s.classList.add(arguments[n]);return t.append(s),s},e.prototype.getValidLength=function(t,e){var i=(""+t).match(/^\d{1,3}[.,]?\d*(px|em|rem|%|vh|vw)?$/i);return i&&a.isNumeric(i[0])?i[0].toLowerCase().replace(",",".")+"px":i?i[0].toLowerCase().replace(",","."):e},e.prototype.getLengthInPx=function(){return this._vertical?this._slider.offsetHeight:this._slider.offsetWidth},e.prototype.getOffsetInPx=function(){return this._vertical?this._slider.getBoundingClientRect().top:this._slider.getBoundingClientRect().left},e}(r.Observable);e.default=u},function(t,e,i){"use strict";var s,n=this&&this.__extends||(s=function(t,e){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}s(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e,i){var s=t.call(this)||this;s._model=e,s._view=i;var n=s;return s._model.subscribe(function(t){switch(t.type){case"NEW_VALUE":n._view.update(t.options),n.notify(n.getOptions())}}),s._view.subscribe(function(t){switch(t.type){case"LAST_THUMB_MOVED":n._model.getOptions().reverse?n._model.setBeginByOffsetRacio(t.offsetRacio):n._model.setEndByOffsetRacio(t.offsetRacio);break;case"FIRST_THUMB_MOVED":n._model.getOptions().reverse?n._model.setEndByOffsetRacio(t.offsetRacio):n._model.setBeginByOffsetRacio(t.offsetRacio)}}),s}return n(e,t),e.prototype.update=function(t){var e=!1,i=!1;["value","min","max","step","reverse","range","customValues"].forEach(function(i){t.hasOwnProperty(i)&&(e=!0)}),e&&(this._model.update(t),i=!0);if(["length","vertical","tooltip","scale"].forEach(function(e){t.hasOwnProperty(e)&&(i=!0)}),i&&(t=Object.assign(t,this._model.getOptions()),this._view.rerender(t)),e||i){var s=this.getWarnings();0!=Object.keys(s).length&&(s=void 0),this.notify(this.getOptions(),s)}},e.prototype.getOptions=function(){return Object.assign({},this._model.getOptions(),this._view.getOptions())},e.prototype.getWarnings=function(){return Object.assign({},this._model.getWarnings(),this._view.getWarnings())},e}(i(1).ObservablePresenter);e.default=o}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL2RlZmF1bHRPcHRpb25zLnRzIiwid2VicGFjazovLy8uL3NyYy9PYnNlcnZlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tbW9uRnVuY3Rpb25zLnRzIiwid2VicGFjazovLy8uL3NyYy92YWxpZGF0aW9ucy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvanF1ZXJ5V3JhcHBlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvc2xpZGVyLnRzIiwid2VicGFjazovLy8uL3NyYy9zbGlkZXIuY3NzP2I4YzciLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5qZWN0U3R5bGVzSW50b1N0eWxlVGFnLmpzIiwid2VicGFjazovLy8uL3NyYy9Nb2RlbC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvVmlldy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvUHJlc2VudGVyLnRzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwiZGVmYXVsdE9wdGlvbnMiLCJiZWdpbiIsImVuZCIsInJhbmdlIiwibWluIiwibWF4Iiwic3RlcCIsInJldmVyc2UiLCJsZW5ndGgiLCJ2ZXJ0aWNhbCIsInRvb2x0aXAiLCJzY2FsZSIsIk9ic2VydmFibGUiLCJ0aGlzIiwibGlzdGVuZXJzIiwic3Vic2NyaWJlIiwibGlzdGVuZXIiLCJwdXNoIiwibm90aWZ5IiwibWVzc2FnZSIsIl9pIiwiX2EiLCJPYnNlcnZhYmxlUHJlc2VudGVyIiwib3B0aW9ucyIsIndhcm5pbmdzIiwiaXNOdW1lcmljIiwiaXNOYU4iLCJwYXJzZUZsb2F0IiwiZGVlcEVxdWFsIiwib2JqMSIsIm9iajIiLCJKU09OIiwic3RyaW5naWZ5IiwiZ2V0TnVtYmVyT2ZTdGVwcyIsIk1hdGgiLCJjZWlsIiwiY29tbW9uRnVuY3Rpb25zXzEiLCJ2YWx1ZXNBcmVOb3ROdW1iZXJzIiwidmFsdWVzQXJlTm90SW50ZWdlciIsIm1pbklzT3Zlck1heCIsIm1pbklzRXF1YWxUb01heCIsImJlZ2luSXNJZ25vcmVkIiwiYmVnaW5Jc092ZXJFbmQiLCJ0b29CaWdTdGVwIiwic3RlcElzTnVsbCIsInJldmVyc2VJc05vdEJvb2xlYW4iLCJjdXN0b21WYWx1ZXNJc05vdEFycmF5IiwiY3VzdG9tVmFsdWVzSXNUb29TbWFsbCIsImludmFsaWRMZW5ndGgiLCJ2ZXJ0aWNhbElzTm90Qm9vbGVhbiIsInRvb2x0aXBJc05vdEJvb2xlYW4iLCJzY2FsZUlzTm90Qm9vbGVhbiIsInZhbGlkYXRlTW9kZWwiLCJjdXN0b21WYWx1ZXMiLCJ3YXJucyIsIm51bWJlcnMiLCJpc1ZhbGlkIiwiZm9yRWFjaCIsIml0ZW0iLCJ2YWxpZGF0ZU51bWJlcnMiLCJudW0iLCJ2YWxpZGF0ZUludGVnZXJzIiwiYWJzIiwiQXJyYXkiLCJpc0FycmF5IiwidmFsaWRhdGVWaWV3IiwibWF0Y2giLCJkZWZhdWx0T3B0aW9uc18xIiwic2xpZGVyXzEiLCIkIiwibWV0aG9kcyIsImluaXQiLCJlYWNoIiwiJHRoaXMiLCJkYXRhIiwiJG5vZGUiLCJleHRlbmQiLCJzbGlkZXIiLCJkZWZhdWx0Iiwibm9kZSIsImdldERhdGEiLCJ1cGRhdGUiLCJkZXN0cm95Iiwid2luZG93IiwidW5iaW5kIiwicmVtb3ZlIiwicmVtb3ZlRGF0YSIsIm9ic2VydmUiLCJqUXVlcnkiLCJmbiIsIm1ldGhvZCIsImFwcGx5Iiwic2xpY2UiLCJhcmd1bWVudHMiLCJlcnJvciIsIk1vZGVsXzEiLCJWaWV3XzEiLCJQcmVzZW50ZXJfMSIsIlNsaWRlciIsImFzc2lnbiIsIl9tb2RlbCIsImdldE9wdGlvbnMiLCJfdmlldyIsIl9wcmVzZW50ZXIiLCJmdW5jIiwiYXBpIiwiY29udGVudCIsImluc2VydCIsInNpbmdsZXRvbiIsImV4cG9ydGVkIiwibG9jYWxzIiwibWVtbyIsImlzT2xkSUUiLCJCb29sZWFuIiwiZG9jdW1lbnQiLCJhbGwiLCJhdG9iIiwiZ2V0VGFyZ2V0IiwidGFyZ2V0Iiwic3R5bGVUYXJnZXQiLCJxdWVyeVNlbGVjdG9yIiwiSFRNTElGcmFtZUVsZW1lbnQiLCJjb250ZW50RG9jdW1lbnQiLCJoZWFkIiwiZSIsInN0eWxlc0luRG9tIiwiZ2V0SW5kZXhCeUlkZW50aWZpZXIiLCJpZGVudGlmaWVyIiwicmVzdWx0IiwibW9kdWxlc1RvRG9tIiwibGlzdCIsImlkQ291bnRNYXAiLCJpZGVudGlmaWVycyIsImlkIiwiYmFzZSIsImNvdW50IiwiY29uY2F0IiwiaW5kZXgiLCJvYmoiLCJjc3MiLCJtZWRpYSIsInNvdXJjZU1hcCIsInJlZmVyZW5jZXMiLCJ1cGRhdGVyIiwiYWRkU3R5bGUiLCJpbnNlcnRTdHlsZUVsZW1lbnQiLCJzdHlsZSIsImNyZWF0ZUVsZW1lbnQiLCJhdHRyaWJ1dGVzIiwibm9uY2UiLCJuYyIsImtleXMiLCJzZXRBdHRyaWJ1dGUiLCJFcnJvciIsImFwcGVuZENoaWxkIiwidGV4dFN0b3JlIiwicmVwbGFjZVRleHQiLCJyZXBsYWNlbWVudCIsImZpbHRlciIsImpvaW4iLCJhcHBseVRvU2luZ2xldG9uVGFnIiwic3R5bGVTaGVldCIsImNzc1RleHQiLCJjc3NOb2RlIiwiY3JlYXRlVGV4dE5vZGUiLCJjaGlsZE5vZGVzIiwicmVtb3ZlQ2hpbGQiLCJpbnNlcnRCZWZvcmUiLCJzaW5nbGV0b25Db3VudGVyIiwic3R5bGVJbmRleCIsInJlbW92ZUF0dHJpYnV0ZSIsImJ0b2EiLCJ1bmVzY2FwZSIsImVuY29kZVVSSUNvbXBvbmVudCIsImZpcnN0Q2hpbGQiLCJwYXJlbnROb2RlIiwicmVtb3ZlU3R5bGVFbGVtZW50IiwibmV3T2JqIiwibGFzdElkZW50aWZpZXJzIiwibmV3TGlzdCIsInRvU3RyaW5nIiwibmV3TGFzdElkZW50aWZpZXJzIiwiX2luZGV4Iiwic3BsaWNlIiwiT2JzZXJ2ZXJfMSIsInZhbGlkYXRpb25zXzEiLCJNb2RlbCIsIl9zdXBlciIsInZhbGlkT3B0aW9ucyIsIl90aGlzIiwiZnVsbE9wdGlvbnMiLCJ2YWxpZGF0ZSIsIm5vcm1hbGl6ZSIsInNldE9wdGlvbnMiLCJfX2V4dGVuZHMiLCJwcmV2T3B0aW9ucyIsInR5cGUiLCJzZXRFbmRCeU9mZnNldFJhY2lvIiwicmFjaW8iLCJmaW5kVmFsdWVCeU9mZnNldFJhY2lvIiwiX2JlZ2luIiwiX2VuZCIsInNldEJlZ2luQnlPZmZzZXRSYWNpbyIsIl9yYW5nZSIsIl9tYXgiLCJfbWluIiwiX3JldmVyc2UiLCJmaW5kQ2xvc2VzdFZhbHVlIiwiX3N0ZXAiLCJfY3VzdG9tVmFsdWVzIiwiZ2V0V2FybmluZ3MiLCJfd2FybmluZ3MiLCJiYXNlT3B0aW9ucyIsInVuZGVmaW5lZCIsIm5vcm1hbGl6ZU51bWJlciIsIl9iIiwiZGVmYXVsdFZhbCIsIm5ld1ZhbHVlIiwidHJ1bmMiLCJwcmV2VmFsdWUiLCJuZXh0VmFsdWUiLCJWaWV3Iiwic2xpZGVyTm9kZSIsIl9zbGlkZXIiLCJjbGFzc0xpc3QiLCJhZGQiLCJidWlsZCIsInNldFRodW1icyIsInNldEJhclBvc2l0aW9uIiwiX3Rvb2x0aXAiLCJfdG9vbHRpcEZpcnN0Iiwic2V0VG9vbHRpcFZhbHVlcyIsInJlcmVuZGVyIiwicmVidWlsZCIsIl9zY2FsZSIsIl9sZW5ndGgiLCJfdmVydGljYWwiLCJoYW5kbGVUaHVtYkRvd24iLCJldmVudCIsInByZXZlbnREZWZhdWx0Iiwic3RvcFByb3BhZ2F0aW9uIiwiX2FjdGl2ZVRodW1iIiwiY3VycmVudFRhcmdldCIsImFkZEV2ZW50TGlzdGVuZXIiLCJoYW5kbGVUaHVtYk1vdmUiLCJoYW5kbGVUaHVtYlVwIiwibmV3VGh1bWJQb3NpdGlvbiIsImdldExlbmd0aEluUHgiLCJvZmZzZXQiLCJnZXRPZmZzZXRJblB4IiwidG91Y2hlcyIsImNsaWVudFkiLCJjbGllbnRYIiwiX3RodW1iTGFzdCIsIm9mZnNldFJhY2lvIiwiaGFuZGxlU2xpZGVyQ2xpY2siLCJpc0xhc3RNb3ZlZCIsIl90aHVtYkZpcnN0IiwiY29udGFpbnMiLCJ0b3BMZWZ0IiwiZmlyc3RUaHVtYlBvcyIsInBhcnNlSW50IiwibGFzdFRodW1iUG9zIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsInZhbGlkTGVuZ3RoIiwiZ2V0VmFsaWRMZW5ndGgiLCJoZWlnaHQiLCJ3aWR0aCIsIl9iYXIiLCJidWlsZE5vZGUiLCJidWlsZFRodW1icyIsImJ1aWxkVG9vbHRpcHMiLCJidWlsZFNjYWxlIiwicmVtb3ZlTm9kZSIsImJlZ2luUG9zaXRpb24iLCJmaW5kVGh1bWJQb3NpdGlvbiIsImVuZFBvc2l0aW9uIiwic2V0VGh1bWJQb3NpdGlvbiIsInN0YXJ0Iiwid2lkdGhIZWlnaHQiLCJfdG9vbHRpcExhc3QiLCJkaXZpc2lvbiIsInZhbCIsImluZGVudCIsImlubmVySFRNTCIsInRvcCIsImxlZnQiLCJhcHBlbmQiLCJwcmVwZW5kIiwiYmVnaW5WYWx1ZSIsImVuZFZhbHVlIiwidGV4dENvbnRlbnQiLCJ0aHVtYk5vZGUiLCJwb3NpdGlvbiIsInpJbmRleCIsImNsYXNzZXMiLCJzdHIiLCJ0b0xvd2VyQ2FzZSIsInJlcGxhY2UiLCJvZmZzZXRIZWlnaHQiLCJvZmZzZXRXaWR0aCIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsIlByZXNlbnRlciIsIm1vZGVsIiwidmlldyIsInRoYXQiLCJpc01vZGVsVXBkYXRlZCIsImlzVmlld1VwZGF0ZWQiXSwibWFwcGluZ3MiOiJhQUNBLElBQUFBLEVBQUEsR0FHQSxT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QUFLeUYsTUFBTTRHLGdCQUV2RTRGLEVBL0ZBLENBWEFsVixFQUFBLEdBV3dCMEQscUJBa0d4QnhELEVBQUFnSCxRQUFlZ08iLCJmaWxlIjoic2xpZGVyLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDQpO1xuIiwiaW1wb3J0IHsgSU1vZGVsT3B0aW9ucyB9IGZyb20gXCIuL01vZGVsXCI7XHJcbmltcG9ydCB7IElWaWV3T3B0aW9ucyB9IGZyb20gXCIuL1ZpZXdcIjtcclxuXHJcbmludGVyZmFjZSBJT3B0aW9ucyBleHRlbmRzIElNb2RlbE9wdGlvbnMsIElWaWV3T3B0aW9ucyB7fVxyXG5cclxubGV0IGRlZmF1bHRPcHRpb25zOiBJT3B0aW9ucyA9IHtcclxuICAgIGJlZ2luOiBudWxsLFxyXG4gICAgZW5kOiBudWxsLFxyXG4gICAgcmFuZ2U6IGZhbHNlLFxyXG4gICAgbWluOiAwLFxyXG4gICAgbWF4OiAxMCxcclxuICAgIHN0ZXA6IDEsXHJcbiAgICByZXZlcnNlOiBmYWxzZSxcclxuICAgIFxyXG4gICAgbGVuZ3RoOiAnMzAwcHgnLFxyXG4gICAgdmVydGljYWw6IGZhbHNlLFxyXG4gICAgdG9vbHRpcDogZmFsc2UsXHJcbiAgICBzY2FsZTogZmFsc2UsXHJcbn1cclxuXHJcbmV4cG9ydCB7IElPcHRpb25zIH07XHJcbmV4cG9ydCB7IGRlZmF1bHRPcHRpb25zIH07XHJcbiIsImltcG9ydCB7IElNb2RlbE9wdGlvbnMgfSBmcm9tIFwiLi9Nb2RlbFwiO1xyXG5pbXBvcnQgeyBJVmlld09wdGlvbnMgfSBmcm9tIFwiLi9WaWV3XCI7XHJcbmltcG9ydCB7IElPcHRpb25zIH0gZnJvbSBcIi4vZGVmYXVsdE9wdGlvbnNcIjtcclxuaW1wb3J0IHsgSVdhcm5pbmdzIH0gZnJvbSBcIi4vdmFsaWRhdGlvbnNcIjtcclxuXHJcbi8vIE1lc3NhZ2VzXHJcbnR5cGUgTmV3VmFsdWUgPSB7dHlwZTogJ05FV19WQUxVRScsIG9wdGlvbnM6IElNb2RlbE9wdGlvbnN9O1xyXG50eXBlIE5ld0RhdGEgPSB7dHlwZTogJ05FV19EQVRBJywgb3B0aW9uczogSU1vZGVsT3B0aW9uc307XHJcbnR5cGUgTGFzdFRodW1iTW92ZWQgPSB7dHlwZTogJ0xBU1RfVEhVTUJfTU9WRUQnLCBvZmZzZXRSYWNpbzogbnVtYmVyfTtcclxudHlwZSBGaXJzdFRodW1iTW92ZWQgPSB7dHlwZTogJ0ZJUlNUX1RIVU1CX01PVkVEJywgb2Zmc2V0UmFjaW86IG51bWJlcn07XHJcbnR5cGUgV2FybmluZ3MgPSB7dHlwZTogJ1dBUk5JTkdTJywgd2FybmluZ3M6IElXYXJuaW5nc307XHJcblxyXG50eXBlIE1vZGVsTWVzc2FnZSA9IE5ld1ZhbHVlIHwgTmV3RGF0YSB8IFdhcm5pbmdzO1xyXG50eXBlIFZpZXdNZXNzYWdlID0gTGFzdFRodW1iTW92ZWQgfCBGaXJzdFRodW1iTW92ZWQgfCBXYXJuaW5ncztcclxuXHJcblxyXG5cclxuLy8gT2JzZXJ2ZVxyXG5pbnRlcmZhY2UgSU9ic2VydmFibGUge1xyXG4gICAgc3Vic2NyaWJlKGxpc3RlbmVyOiBGdW5jdGlvbik6IHZvaWQ7XHJcbiAgICBub3RpZnkoLi4uYXJnczogYW55KTogdm9pZDtcclxufVxyXG5cclxuXHJcbnR5cGUgRm48QSwgQj4gPSAoYTogQSkgPT4gQjtcclxuXHJcbmNsYXNzIE9ic2VydmFibGU8QT4gaW1wbGVtZW50cyBJT2JzZXJ2YWJsZSB7XHJcbiAgICBwcm90ZWN0ZWQgbGlzdGVuZXJzOiBGbjxBLCB2b2lkPltdID0gW107XHJcblxyXG4gICAgcHVibGljIHN1YnNjcmliZShsaXN0ZW5lcjogRm48QSwgdm9pZD4pOiB2b2lkIHtcclxuICAgICAgICB0aGlzLmxpc3RlbmVycy5wdXNoKGxpc3RlbmVyKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgbm90aWZ5KG1lc3NhZ2U6IEEpOiB2b2lkIHtcclxuICAgICAgICBmb3IgKGNvbnN0IGxpc3RlbmVyIG9mIHRoaXMubGlzdGVuZXJzKSB7XHJcbiAgICAgICAgICAgIGxpc3RlbmVyKG1lc3NhZ2UpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cclxuXHJcbmNsYXNzIE9ic2VydmFibGVQcmVzZW50ZXIgaW1wbGVtZW50cyBJT2JzZXJ2YWJsZSB7XHJcbiAgICBwcm90ZWN0ZWQgbGlzdGVuZXJzOiBGdW5jdGlvbltdID0gW107XHJcblxyXG4gICAgcHVibGljIHN1YnNjcmliZShsaXN0ZW5lcjogRnVuY3Rpb24pOiB2b2lkIHtcclxuICAgICAgICB0aGlzLmxpc3RlbmVycy5wdXNoKGxpc3RlbmVyKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgbm90aWZ5KG9wdGlvbnM/OiBJT3B0aW9ucywgd2FybmluZ3M/OiBJV2FybmluZ3MpOiB2b2lkIHtcclxuICAgICAgICBmb3IgKGNvbnN0IGxpc3RlbmVyIG9mIHRoaXMubGlzdGVuZXJzKSB7XHJcbiAgICAgICAgICAgIGxpc3RlbmVyKG9wdGlvbnMsIHdhcm5pbmdzKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcblxyXG5leHBvcnQgeyBJT2JzZXJ2YWJsZSwgT2JzZXJ2YWJsZSwgTW9kZWxNZXNzYWdlLCBWaWV3TWVzc2FnZSwgT2JzZXJ2YWJsZVByZXNlbnRlcn07XHJcblxyXG5cclxuXHJcbi8qXHJcbi8vIE9ic2VydmVcclxuaW50ZXJmYWNlIElPYnNlcnZhYmxlIHtcclxuICAgIHN1YnNjcmliZShsaXN0ZW5lcjogYW55KTogdm9pZDtcclxuICAgIC8vZGV0YWNoKGxpc3RlbmVyOiBhbnkpOiB2b2lkO1xyXG4gICAgbm90aWZ5KG1lc3NhZ2U6IGFueSk6IHZvaWQ7XHJcbn1cclxuXHJcbmNsYXNzIE9ic2VydmFibGUgaW1wbGVtZW50cyBJT2JzZXJ2YWJsZSB7XHJcbiAgICBwcm90ZWN0ZWQgbGlzdGVuZXJzOiBGdW5jdGlvbltdID0gW107XHJcblxyXG4gICAgcHVibGljIHN1YnNjcmliZShsaXN0ZW5lcjogRnVuY3Rpb24pOiB2b2lkIHtcclxuICAgICAgICB0aGlzLmxpc3RlbmVycy5wdXNoKGxpc3RlbmVyKTtcclxuICAgIH1cclxuXHJcbi8qICAgICBwdWJsaWMgZGV0YWNoKGxpc3RlbmVyOiBGdW5jdGlvbik6IHZvaWQge1xyXG4gICAgICAgIGNvbnN0IGxpc3RlbmVySW5kZXg6IG51bWJlciA9IHRoaXMubGlzdGVuZXJzLmluZGV4T2YobGlzdGVuZXIpO1xyXG4gICAgICAgIHRoaXMubGlzdGVuZXJzLnNwbGljZShsaXN0ZW5lckluZGV4LCAxKTtcclxuICAgIH0gKi9cclxuLypcclxuICAgIHB1YmxpYyBub3RpZnkobWVzc2FnZTogSU1lc3NhZ2UpOiB2b2lkIHtcclxuICAgICAgICBmb3IgKGNvbnN0IGxpc3RlbmVyIG9mIHRoaXMubGlzdGVuZXJzKSB7XHJcbiAgICAgICAgICAgIGxpc3RlbmVyKG1lc3NhZ2UpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufSovIiwiZnVuY3Rpb24gaXNOdW1lcmljKG46IGFueSk6IGJvb2xlYW4ge1xyXG4gICAgcmV0dXJuICFpc05hTihwYXJzZUZsb2F0KG4pKSAmJiAhaXNOYU4obiAtIDApO1xyXG59XHJcblxyXG5mdW5jdGlvbiBkZWVwRXF1YWwob2JqMSwgb2JqMikge1xyXG4gICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KG9iajEpPT09SlNPTi5zdHJpbmdpZnkob2JqMik7XHJcbiB9XHJcblxyXG5mdW5jdGlvbiBnZXROdW1iZXJPZlN0ZXBzKG1pbjogbnVtYmVyLCBtYXg6IG51bWJlciwgc3RlcDogbnVtYmVyKTogbnVtYmVyIHtcclxuICAgIHJldHVybiBNYXRoLmNlaWwoKG1heCAtIG1pbikgLyBzdGVwKTtcclxufVxyXG5cclxuZXhwb3J0IHsgaXNOdW1lcmljLCBnZXROdW1iZXJPZlN0ZXBzLCBkZWVwRXF1YWwgfTtcclxuXHJcbiIsImltcG9ydCB7IElNb2RlbE9wdGlvbnMgfSBmcm9tIFwiLi9Nb2RlbFwiO1xyXG5pbXBvcnQgeyBpc051bWVyaWMgfSBmcm9tIFwiLi9jb21tb25GdW5jdGlvbnNcIjtcclxuXHJcbmludGVyZmFjZSBJV2FybmluZ3Mge1xyXG4gICAgdmFsdWVzQXJlTm90TnVtYmVycz86IHN0cmluZyxcclxuICAgIHZhbHVlc0FyZU5vdEludGVnZXI/OiBzdHJpbmcsXHJcbiAgICBtaW5Jc092ZXJNYXg/OiBzdHJpbmcsXHJcbiAgICBtaW5Jc0VxdWFsVG9NYXg/OiBzdHJpbmcsXHJcbiAgICBiZWdpbklzSWdub3JlZD86IHN0cmluZyxcclxuICAgIGJlZ2luSXNPdmVyRW5kPzogc3RyaW5nLFxyXG4gICAgdG9vQmlnU3RlcD86IHN0cmluZyxcclxuICAgIHN0ZXBJc051bGw/OiBzdHJpbmcsXHJcbiAgICByZXZlcnNlSXNOb3RCb29sZWFuPzogc3RyaW5nLFxyXG4gICAgY3VzdG9tVmFsdWVzSXNOb3RBcnJheT86IHN0cmluZyxcclxuICAgIGN1c3RvbVZhbHVlc0lzVG9vU21hbGw/IDogc3RyaW5nLFxyXG5cclxuICAgIGludmFsaWRMZW5ndGg/OiBzdHJpbmcsXHJcbiAgICB2ZXJ0aWNhbElzTm90Qm9vbGVhbj86IHN0cmluZyxcclxuICAgIHRvb2x0aXBJc05vdEJvb2xlYW4/OiBzdHJpbmcsXHJcbiAgICBzY2FsZUlzTm90Qm9vbGVhbj86IHN0cmluZyxcclxufVxyXG5cclxubGV0IHdhcm5pbmdzOiBJV2FybmluZ3MgPSB7XHJcbiAgICB2YWx1ZXNBcmVOb3ROdW1iZXJzOiAnQWxsIHZhbHVlcywgaW5zdGVhZCBvZiBjdXN0b21WYWx1ZXMsIHNob3VsZCBiZSBudW1iZXJzJyxcclxuICAgIHZhbHVlc0FyZU5vdEludGVnZXI6ICdBbGwgdmFsdWVzLCBpbnN0ZWFkIG9mIGN1c3RvbVZhbHVlcywgc2hvdWxkIGJlIGludGVnZXInLFxyXG4gICAgbWluSXNPdmVyTWF4OiAnTWluIHZhbHVlIHNob3VsZCBiZSBsZXNzIHRoZW4gbWF4IHZhbHVlJyxcclxuICAgIG1pbklzRXF1YWxUb01heDogJ01pbiB2YWx1ZSBjYW50IGJlIGVxdWFsIHRvIG1heCB2YWx1ZScsXHJcbiAgICBiZWdpbklzSWdub3JlZDogJ0lmIGl0IGlzIG5vdCByYW5nZSwgb3B0aW9ucyBiZWdpbiBpcyBpZ25vcmVkJyxcclxuICAgIGJlZ2luSXNPdmVyRW5kOiAnQmVnaW4gdmFsdWUgc2hvdWxkIGJlIGxlc3MgdGhlbiBlbmQgdmFsdWUnLFxyXG4gICAgdG9vQmlnU3RlcDogJ1N0ZXAgc2hvdWxkIGJlIGxlc3MgdGhlbiBkaWZmZXJlbmNlIG9mIG1heCBhbmQgbWluIHZhbHVlcycsXHJcbiAgICBzdGVwSXNOdWxsOiAnU3RlcCBjYW50IGJlIGVxdWFsIHRvIDAnLFxyXG4gICAgcmV2ZXJzZUlzTm90Qm9vbGVhbjogJ09wdGlvbiByZXZlcnNlIHNob3VsZCBiZSB0cnVlIG9yIGZhbHNlJyxcclxuICAgIGN1c3RvbVZhbHVlc0lzTm90QXJyYXk6ICdDdXN0b21WYWx1ZXMgc2hvdWxkIGJlIGFycmF5JyxcclxuICAgIGN1c3RvbVZhbHVlc0lzVG9vU21hbGw6ICdDdXN0b21WYWx1ZXMgc2hvdWxkIGNvbnRhaW4gYXQgbGVhc3QgdHdvIHZhbHVlcycsXHJcblxyXG4gICAgaW52YWxpZExlbmd0aDogJ0xlbmd0aCBzaG91bGQgYmUgdmFsaWQgdG8gQ1NTJyxcclxuICAgIHZlcnRpY2FsSXNOb3RCb29sZWFuOiAnT3B0aW9uIHZlcnRpY2FsIHNob3VsZCBiZSB0cnVlIG9yIGZhbHNlJyxcclxuICAgIHRvb2x0aXBJc05vdEJvb2xlYW46ICdPcHRpb24gdG9vbHRpcCBzaG91bGQgYmUgdHJ1ZSBvciBmYWxzZScsXHJcbiAgICBzY2FsZUlzTm90Qm9vbGVhbjogJ09wdGlvbiBzY2FsZSBzaG91bGQgYmUgdHJ1ZSBvciBmYWxzZScsXHJcbn1cclxuXHJcbmZ1bmN0aW9uIHZhbGlkYXRlTW9kZWwob3B0aW9uczogSU1vZGVsT3B0aW9ucyk6IElXYXJuaW5ncyB7XHJcblxyXG4gICAgbGV0IHtiZWdpbiwgZW5kLCByYW5nZSwgbWluLCBtYXgsIHN0ZXAsIHJldmVyc2UsIGN1c3RvbVZhbHVlc30gPSBvcHRpb25zO1xyXG5cclxuICAgIGxldCB3YXJuczogSVdhcm5pbmdzID0ge307XHJcblxyXG4gICAgbGV0IG51bWJlcnM6IG51bWJlcltdID0gW21pbiwgbWF4LCBzdGVwXTtcclxuICAgIGlmIChiZWdpbikgeyBudW1iZXJzLnB1c2goYmVnaW4pIH1cclxuICAgIGlmIChlbmQpIHsgbnVtYmVycy5wdXNoKGVuZCkgfVxyXG5cclxuXHJcbiAgICBpZiAoICF2YWxpZGF0ZU51bWJlcnMobnVtYmVycykgKSB7IFxyXG4gICAgICAgIHdhcm5zLnZhbHVlc0FyZU5vdE51bWJlcnMgPSB3YXJuaW5ncy52YWx1ZXNBcmVOb3ROdW1iZXJzO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICggIXZhbGlkYXRlSW50ZWdlcnMobnVtYmVycykgKSB7XHJcbiAgICAgICAgd2FybnMudmFsdWVzQXJlTm90SW50ZWdlciA9IHdhcm5pbmdzLnZhbHVlc0FyZU5vdEludGVnZXI7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKCBtaW4gPiBtYXggKSB7XHJcbiAgICAgICAgd2FybnMubWluSXNPdmVyTWF4ID0gd2FybmluZ3MubWluSXNPdmVyTWF4O1xyXG4gICAgfVxyXG5cclxuICAgIGlmICggbWluID09IG1heCApIHtcclxuICAgICAgICB3YXJucy5taW5Jc0VxdWFsVG9NYXggPSB3YXJuaW5ncy5taW5Jc0VxdWFsVG9NYXg7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKCAhcmFuZ2UgJiYgYmVnaW4gKSB7XHJcbiAgICAgICAgd2FybnMuYmVnaW5Jc0lnbm9yZWQgPSB3YXJuaW5ncy5iZWdpbklzSWdub3JlZDtcclxuICAgIH1cclxuXHJcblxyXG4gICAgaWYgKCByYW5nZSAmJiAoYmVnaW4gPiBlbmQpICkge1xyXG4gICAgICAgIHdhcm5zLmJlZ2luSXNPdmVyRW5kID0gd2FybmluZ3MuYmVnaW5Jc092ZXJFbmQ7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKCBNYXRoLmFicyhtYXggLSBtaW4pIDwgTWF0aC5hYnMoc3RlcCkgKSB7XHJcbiAgICAgICAgd2FybnMudG9vQmlnU3RlcCA9IHdhcm5pbmdzLnRvb0JpZ1N0ZXA7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIGlmICggc3RlcCA9PSAwICkge1xyXG4gICAgICAgIHdhcm5zLnN0ZXBJc051bGwgPSB3YXJuaW5ncy5zdGVwSXNOdWxsO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICggdHlwZW9mIHJldmVyc2UgIT0gJ2Jvb2xlYW4nICkge1xyXG4gICAgICAgIHdhcm5zLnJldmVyc2VJc05vdEJvb2xlYW4gPSB3YXJuaW5ncy5yZXZlcnNlSXNOb3RCb29sZWFuO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICggY3VzdG9tVmFsdWVzICkge1xyXG4gICAgICAgIGlmICggIUFycmF5LmlzQXJyYXkoY3VzdG9tVmFsdWVzKSApIHtcclxuICAgICAgICAgICAgd2FybnMuY3VzdG9tVmFsdWVzSXNOb3RBcnJheSA9IHdhcm5pbmdzLmN1c3RvbVZhbHVlc0lzTm90QXJyYXk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoICF3YXJucy5jdXN0b21WYWx1ZXNJc05vdEFycmF5ICYmIGN1c3RvbVZhbHVlcy5sZW5ndGggPCAyICkge1xyXG4gICAgICAgICAgICB3YXJucy5jdXN0b21WYWx1ZXNJc1Rvb1NtYWxsID0gd2FybmluZ3MuY3VzdG9tVmFsdWVzSXNUb29TbWFsbDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHdhcm5zO1xyXG59XHJcblxyXG5mdW5jdGlvbiB2YWxpZGF0ZU51bWJlcnMobnVtYmVyczogbnVtYmVyW10pOiBib29sZWFuIHtcclxuICAgIGxldCBpc1ZhbGlkOiBib29sZWFuID0gdHJ1ZTtcclxuICAgIG51bWJlcnMuZm9yRWFjaChmdW5jdGlvbihpdGVtKSB7IFxyXG4gICAgICAgIGlmKCAhaXNOdW1lcmljKGl0ZW0pICkgeyBcclxuICAgICAgICAgICAgaXNWYWxpZCA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG4gICAgcmV0dXJuIGlzVmFsaWQ7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHZhbGlkYXRlSW50ZWdlcnMobnVtYmVyczogbnVtYmVyW10pOiBib29sZWFuIHtcclxuICAgIGxldCBpc1ZhbGlkOiBib29sZWFuID0gdHJ1ZTtcclxuICAgIG51bWJlcnMuZm9yRWFjaChmdW5jdGlvbihudW0pIHtcclxuICAgICAgICBpZiAoIG51bSAlIDEgIT0gMCApIHsgXHJcbiAgICAgICAgICAgIGlzVmFsaWQgPSBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuICAgIHJldHVybiBpc1ZhbGlkO1xyXG59XHJcblxyXG5cclxuXHJcbmZ1bmN0aW9uIHZhbGlkYXRlVmlldyhvcHRpb25zKTogSVdhcm5pbmdzIHtcclxuICAgIGxldCB3YXJuczogSVdhcm5pbmdzID0ge307XHJcbiAgICBsZXQge2xlbmd0aCwgdmVydGljYWwsIHRvb2x0aXAsIHNjYWxlfSA9IG9wdGlvbnM7XHJcblxyXG4gICAgaWYgKCAhbGVuZ3RoLm1hdGNoKC9eXFxkezEsM31bLixdP1xcZCoocHh8ZW18cmVtfCV8dmh8dncpPyQvaSkgKSB7XHJcbiAgICAgICAgd2FybnMuaW52YWxpZExlbmd0aCA9IHdhcm5pbmdzLmludmFsaWRMZW5ndGg7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKCB0eXBlb2YgdmVydGljYWwgIT0gJ2Jvb2xlYW4nICkge1xyXG4gICAgICAgIHdhcm5zLnZlcnRpY2FsSXNOb3RCb29sZWFuID0gd2FybmluZ3MudmVydGljYWxJc05vdEJvb2xlYW47XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKCB0eXBlb2YgdG9vbHRpcCAhPSAnYm9vbGVhbicgKSB7XHJcbiAgICAgICAgd2FybnMudG9vbHRpcElzTm90Qm9vbGVhbiA9IHdhcm5pbmdzLnRvb2x0aXBJc05vdEJvb2xlYW47XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKCB0eXBlb2Ygc2NhbGUgIT0gJ2Jvb2xlYW4nICkge1xyXG4gICAgICAgIHdhcm5zLnNjYWxlSXNOb3RCb29sZWFuID0gd2FybmluZ3Muc2NhbGVJc05vdEJvb2xlYW47XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHdhcm5zO1xyXG59XHJcblxyXG5leHBvcnQgeyB2YWxpZGF0ZU1vZGVsLCB2YWxpZGF0ZVZpZXcsIElXYXJuaW5ncyB9IiwiaW1wb3J0IE1vZGVsLCB7IElNb2RlbCB9IGZyb20gJy4vTW9kZWwnO1xyXG5pbXBvcnQgVmlldywgeyBJVmlldyB9IGZyb20gJy4vVmlldyc7XHJcbmltcG9ydCBQcmVzZW50ZXIgZnJvbSAnLi9QcmVzZW50ZXInO1xyXG5pbXBvcnQgeyBJT3B0aW9ucywgZGVmYXVsdE9wdGlvbnMgfSBmcm9tICcuL2RlZmF1bHRPcHRpb25zJztcclxuaW1wb3J0IHsgfSBmcm9tICcuL09ic2VydmVyJztcclxuaW1wb3J0IFNsaWRlciBmcm9tICcuL3NsaWRlcic7XHJcblxyXG4vL2ltcG9ydCAnLi9zbGlkZXIuY3NzJztcclxuXHJcbihmdW5jdGlvbiAoJCkge1xyXG5cclxuICBpbnRlcmZhY2UgSU1ldGhvZHMge1xyXG4gICAgaW5pdChvcHRpb25zPzogSU9wdGlvbnMpOiB2b2lkO1xyXG4gICAgZ2V0RGF0YSgpOiBJT3B0aW9ucztcclxuICAgIHVwZGF0ZShvcHRpb25zOiBhbnkpOiB2b2lkO1xyXG4gICAgZGVzdHJveSgpOiB2b2lkO1xyXG4gICAgb2JzZXJ2ZShmdW5jOiBGdW5jdGlvbik6IHZvaWQ7XHJcbiAgfVxyXG5cclxuICB2YXIgbWV0aG9kczogSU1ldGhvZHMgPSB7XHJcblxyXG4gICAgaW5pdDogZnVuY3Rpb24gKG9wdGlvbnM/OiBJT3B0aW9ucyk6IHZvaWQge1xyXG5cclxuICAgICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgICAgIGxldCAkdGhpcyA9ICQodGhpcyk7XHJcbiAgICAgICAgbGV0IGRhdGEgPSAkdGhpcy5kYXRhKCdzbGlkZXJEYXRhJyk7XHJcbiAgICAgICAgbGV0ICRub2RlID0gJHRoaXM7XHJcblxyXG4gICAgICAgIC8vINCV0YHQu9C4INC/0LvQsNCz0LjQvSDQtdGJ0ZEg0L3QtSDQv9GA0L7QuNC90LjRhtC40LDQu9C40LfQuNGA0L7QstCw0L1cclxuICAgICAgICBpZiAoIWRhdGEpIHtcclxuXHJcbiAgICAgICAgICBvcHRpb25zID0gJC5leHRlbmQoe30sIGRlZmF1bHRPcHRpb25zLCBvcHRpb25zKTtcclxuICAgICAgICAgIGxldCBzbGlkZXIgPSBuZXcgU2xpZGVyKG9wdGlvbnMsIHRoaXMpO1xyXG5cclxuICAgICAgICAgICQodGhpcykuZGF0YSgnc2xpZGVyRGF0YScsIHtcclxuICAgICAgICAgICAgbm9kZTogJG5vZGUsXHJcbiAgICAgICAgICAgIHNsaWRlcjogc2xpZGVyXHJcbiAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgIH0sXHJcblxyXG4gICAgZ2V0RGF0YTogZnVuY3Rpb24gKCk6IElPcHRpb25zIHtcclxuICAgICAgcmV0dXJuICQodGhpcykuZGF0YSgnc2xpZGVyRGF0YScpLnNsaWRlci5nZXREYXRhKCk7XHJcbiAgICB9LFxyXG5cclxuICAgIHVwZGF0ZTogZnVuY3Rpb24gKG9wdGlvbnM6IElPcHRpb25zKTogdm9pZCB7XHJcbiAgICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICQodGhpcykuZGF0YSgnc2xpZGVyRGF0YScpLnNsaWRlci51cGRhdGUob3B0aW9ucyk7XHJcbiAgICAgIH0pO1xyXG4gICAgfSxcclxuXHJcbiAgICBkZXN0cm95OiBmdW5jdGlvbiAoKTogdm9pZCB7XHJcbiAgICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24gKCkge1xyXG5cclxuICAgICAgICBsZXQgJHRoaXMgPSAkKHRoaXMpO1xyXG4gICAgICAgIGxldCBkYXRhID0gJHRoaXMuZGF0YSgnc2xpZGVyRGF0YScpO1xyXG5cclxuICAgICAgICAkKHdpbmRvdykudW5iaW5kKCcuc2xpZGVyJyk7XHJcbiAgICAgICAgZGF0YS5ub2RlLnJlbW92ZSgpO1xyXG4gICAgICAgICR0aGlzLnJlbW92ZURhdGEoJ3NsaWRlckRhdGEnKTtcclxuXHJcbiAgICAgIH0pO1xyXG4gICAgfSxcclxuXHJcbiAgICBvYnNlcnZlOiBmdW5jdGlvbiAobGlzdGVuZXI6IEZ1bmN0aW9uKTogdm9pZCB7XHJcblxyXG4gICAgICBsZXQgc2xpZGVyID0gJCh0aGlzKS5kYXRhKCdzbGlkZXJEYXRhJykuc2xpZGVyO1xyXG4gICAgICBzbGlkZXIuc3Vic2NyaWJlKGxpc3RlbmVyKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vID8/Pz8/Pz8/Pz8/Pz9cclxuICBqUXVlcnkuZm4uc2xpZGVyID0gZnVuY3Rpb24gKG1ldGhvZDogc3RyaW5nKTogSlF1ZXJ5IHtcclxuXHJcbiAgICAvLyDQu9C+0LPQuNC60LAg0LLRi9C30L7QstCwINC80LXRgtC+0LTQsFxyXG4gICAgaWYgKG1ldGhvZHNbbWV0aG9kIGFzIHN0cmluZ10pIHtcclxuXHJcbiAgICAgIHJldHVybiBtZXRob2RzW21ldGhvZCBhcyBzdHJpbmddLmFwcGx5KHRoaXMsIEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMSkpO1xyXG5cclxuICAgIH0gZWxzZSBpZiAodHlwZW9mIG1ldGhvZCA9PT0gJ29iamVjdCcgfHwgIW1ldGhvZCkge1xyXG5cclxuICAgICAgcmV0dXJuIG1ldGhvZHMuaW5pdC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG5cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICQuZXJyb3IoJ01ldGhvZCBjYWxsZWQgJyArIG1ldGhvZCArICcgZG9lcyBub3QgZXhpc3QgZm9yIEpRdWVyeS5zbGlkZXInKTtcclxuICAgIH1cclxuXHJcbiAgfTtcclxuXHJcbn0pKGpRdWVyeSk7XHJcblxyXG5cclxuLyogbGV0IG1vZCA9IG5ldyBNb2RlbChPYmplY3QuYXNzaWduKHt9LCBkZWZhdWx0T3B0aW9ucywge1xyXG4gIGJlZ2luOiA1LFxyXG4gIGVuZDogNyxcclxuICByYW5nZTogdHJ1ZVxyXG59KSk7ICovXHJcbi8vbW9kLnNldEVuZEJ5T2Zmc2V0UmFjaW8oMC4zNDU0KTtcclxuLy9jb25zb2xlLmxvZyhtb2QuZ2V0T3B0aW9ucygpKTtcclxuXHJcbi8qIGxldCB0ZXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnRlc3QnKSBhcyBIVE1MRGl2RWxlbWVudDtcclxuXHJcbmxldCB2aWV3ID0gbmV3IFZpZXcoZGVmYXVsdE9wdGlvbnMsIHRlc3QpOyAqL1xyXG5cclxuXHJcbi8vbGV0IHByZXMgPSBuZXcgUHJlc2VudGVyKGRlZmF1bHRPcHRpb25zLCB0ZXN0KTtcclxuXHJcbiQoJy50ZXN0Jykuc2xpZGVyKHtcclxuICBlbmQ6IDYsXHJcbiAgYmVnaW46IDIsXHJcbiAgc3RlcDogOSxcclxuICB0b29sdGlwOiB0cnVlLFxyXG4gIHNjYWxlOiB0cnVlLFxyXG4gIHJhbmdlOiB0cnVlLFxyXG4gIHJldmVyc2U6IHRydWVcclxufSk7XHJcblxyXG5cclxuLypcclxuJCgnLnRlc3QnKS5zbGlkZXIoJ3VwZGF0ZScsIHtcclxuICBtaW46IDIwLFxyXG4gIHJhbmdlOiBbMywgN10sXHJcbiAgbWF4OiAtM1xyXG59KVxyXG5cclxuXHJcbiQoJy50ZXN0Jykuc2xpZGVyKCd1cGRhdGUnLCB7XHJcbiAgbWluOiAtNS44LFxyXG4gIHJhbmdlOiBbMywgNywgJ2RneCAnLCA1XSxcclxuICBtYXg6ICd2Ym4nXHJcbn0pICovXHJcblxyXG5cclxuXHJcbi8qIGxldCBtb2QgPSBuZXcgTW9kZWwoZGVmYXVsdE9wdGlvbnMpO1xyXG5jb25zb2xlLmxvZyhtb2QucmV2ZXJzZSlcclxubW9kLm1ha2VGdWxsQ2hhbmdlcyh7cmV2ZXJzZTogdHJ1ZX0pXHJcbmNvbnNvbGUubG9nKG1vZC5yZXZlcnNlKVxyXG5tb2QubWFrZUZ1bGxDaGFuZ2VzKHtyZXZlcnNlOiBmYWxzZX0pXHJcbmNvbnNvbGUubG9nKG1vZC5yZXZlcnNlKSAqLyIsIi8vIGltcG9ydCBzdHlsZXNcclxuaW1wb3J0ICcuL3NsaWRlci5jc3MnO1xyXG5cclxuXHJcbmltcG9ydCB7IElPcHRpb25zLCBkZWZhdWx0T3B0aW9ucyB9IGZyb20gJy4vZGVmYXVsdE9wdGlvbnMnO1xyXG5pbXBvcnQgTW9kZWwsIHsgSU1vZGVsLCBJTW9kZWxPcHRpb25zIH0gZnJvbSAnLi9Nb2RlbCc7XHJcbmltcG9ydCBWaWV3LCB7IElWaWV3IH0gZnJvbSAnLi9WaWV3JztcclxuaW1wb3J0IHsgSU9ic2VydmFibGUsIE9ic2VydmFibGUsIE1vZGVsTWVzc2FnZSwgVmlld01lc3NhZ2UsIE9ic2VydmFibGVQcmVzZW50ZXIgfSAgZnJvbSAnLi9PYnNlcnZlcic7XHJcbmltcG9ydCB7IElXYXJuaW5ncyB9IGZyb20gJy4vdmFsaWRhdGlvbnMnO1xyXG5pbXBvcnQgUHJlc2VudGVyLCB7IElQcmVzZW50ZXIgfSBmcm9tICcuL1ByZXNlbnRlcic7XHJcblxyXG5cclxuaW50ZXJmYWNlIElTbGlkZXIge1xyXG4gICAgdXBkYXRlKG9wdGlvbnM6IElPcHRpb25zKTogdm9pZDtcclxuICAgIHN1YnNjcmliZShmdW5jOiBGdW5jdGlvbik6IHZvaWQ7XHJcbn1cclxuXHJcbmNsYXNzIFNsaWRlciBpbXBsZW1lbnRzIElTbGlkZXIge1xyXG5cclxuICAgIHByaXZhdGUgX21vZGVsOiBJTW9kZWw7XHJcbiAgICBwcml2YXRlIF92aWV3OiBJVmlldztcclxuICAgIHByaXZhdGUgX3ByZXNlbnRlcjogSVByZXNlbnRlcjtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zOiBJT3B0aW9ucywgbm9kZTogSFRNTERpdkVsZW1lbnQpIHtcclxuXHJcbiAgICAgICAgb3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oe30sIGRlZmF1bHRPcHRpb25zLCBvcHRpb25zKTtcclxuICAgICAgICB0aGlzLl9tb2RlbCA9IG5ldyBNb2RlbChvcHRpb25zKTtcclxuXHJcbiAgICAgICAgb3B0aW9ucyA9IE9iamVjdC5hc3NpZ24ob3B0aW9ucywgdGhpcy5fbW9kZWwuZ2V0T3B0aW9ucygpKTtcclxuICAgICAgICB0aGlzLl92aWV3ID0gbmV3IFZpZXcob3B0aW9ucywgbm9kZSk7XHJcblxyXG4gICAgICAgIHRoaXMuX3ByZXNlbnRlciA9IG5ldyBQcmVzZW50ZXIodGhpcy5fbW9kZWwsIHRoaXMuX3ZpZXcpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdWJzY3JpYmUoZnVuYzogRnVuY3Rpb24pOiB2b2lkIHtcclxuICAgICAgICB0aGlzLl9wcmVzZW50ZXIuc3Vic2NyaWJlKGZ1bmMpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyB1cGRhdGUob3B0aW9uczogSU9wdGlvbnMpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLl9wcmVzZW50ZXIudXBkYXRlKG9wdGlvbnMpO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgeyBJU2xpZGVyIH07XHJcbmV4cG9ydCBkZWZhdWx0IFNsaWRlcjsiLCJ2YXIgYXBpID0gcmVxdWlyZShcIiEuLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbmplY3RTdHlsZXNJbnRvU3R5bGVUYWcuanNcIik7XG4gICAgICAgICAgICB2YXIgY29udGVudCA9IHJlcXVpcmUoXCIhIS4uL25vZGVfbW9kdWxlcy9taW5pLWNzcy1leHRyYWN0LXBsdWdpbi9kaXN0L2xvYWRlci5qcyEuLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuL3NsaWRlci5jc3NcIik7XG5cbiAgICAgICAgICAgIGNvbnRlbnQgPSBjb250ZW50Ll9fZXNNb2R1bGUgPyBjb250ZW50LmRlZmF1bHQgOiBjb250ZW50O1xuXG4gICAgICAgICAgICBpZiAodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcbiAgICAgICAgICAgIH1cblxudmFyIG9wdGlvbnMgPSB7fTtcblxub3B0aW9ucy5pbnNlcnQgPSBcImhlYWRcIjtcbm9wdGlvbnMuc2luZ2xldG9uID0gZmFsc2U7XG5cbnZhciB1cGRhdGUgPSBhcGkoY29udGVudCwgb3B0aW9ucyk7XG5cbnZhciBleHBvcnRlZCA9IGNvbnRlbnQubG9jYWxzID8gY29udGVudC5sb2NhbHMgOiB7fTtcblxuXG5cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0ZWQ7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBpc09sZElFID0gZnVuY3Rpb24gaXNPbGRJRSgpIHtcbiAgdmFyIG1lbW87XG4gIHJldHVybiBmdW5jdGlvbiBtZW1vcml6ZSgpIHtcbiAgICBpZiAodHlwZW9mIG1lbW8gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAvLyBUZXN0IGZvciBJRSA8PSA5IGFzIHByb3Bvc2VkIGJ5IEJyb3dzZXJoYWNrc1xuICAgICAgLy8gQHNlZSBodHRwOi8vYnJvd3NlcmhhY2tzLmNvbS8jaGFjay1lNzFkODY5MmY2NTMzNDE3M2ZlZTcxNWMyMjJjYjgwNVxuICAgICAgLy8gVGVzdHMgZm9yIGV4aXN0ZW5jZSBvZiBzdGFuZGFyZCBnbG9iYWxzIGlzIHRvIGFsbG93IHN0eWxlLWxvYWRlclxuICAgICAgLy8gdG8gb3BlcmF0ZSBjb3JyZWN0bHkgaW50byBub24tc3RhbmRhcmQgZW52aXJvbm1lbnRzXG4gICAgICAvLyBAc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS93ZWJwYWNrLWNvbnRyaWIvc3R5bGUtbG9hZGVyL2lzc3Vlcy8xNzdcbiAgICAgIG1lbW8gPSBCb29sZWFuKHdpbmRvdyAmJiBkb2N1bWVudCAmJiBkb2N1bWVudC5hbGwgJiYgIXdpbmRvdy5hdG9iKTtcbiAgICB9XG5cbiAgICByZXR1cm4gbWVtbztcbiAgfTtcbn0oKTtcblxudmFyIGdldFRhcmdldCA9IGZ1bmN0aW9uIGdldFRhcmdldCgpIHtcbiAgdmFyIG1lbW8gPSB7fTtcbiAgcmV0dXJuIGZ1bmN0aW9uIG1lbW9yaXplKHRhcmdldCkge1xuICAgIGlmICh0eXBlb2YgbWVtb1t0YXJnZXRdID09PSAndW5kZWZpbmVkJykge1xuICAgICAgdmFyIHN0eWxlVGFyZ2V0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0YXJnZXQpOyAvLyBTcGVjaWFsIGNhc2UgdG8gcmV0dXJuIGhlYWQgb2YgaWZyYW1lIGluc3RlYWQgb2YgaWZyYW1lIGl0c2VsZlxuXG4gICAgICBpZiAod2luZG93LkhUTUxJRnJhbWVFbGVtZW50ICYmIHN0eWxlVGFyZ2V0IGluc3RhbmNlb2Ygd2luZG93LkhUTUxJRnJhbWVFbGVtZW50KSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgLy8gVGhpcyB3aWxsIHRocm93IGFuIGV4Y2VwdGlvbiBpZiBhY2Nlc3MgdG8gaWZyYW1lIGlzIGJsb2NrZWRcbiAgICAgICAgICAvLyBkdWUgdG8gY3Jvc3Mtb3JpZ2luIHJlc3RyaWN0aW9uc1xuICAgICAgICAgIHN0eWxlVGFyZ2V0ID0gc3R5bGVUYXJnZXQuY29udGVudERvY3VtZW50LmhlYWQ7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAvLyBpc3RhbmJ1bCBpZ25vcmUgbmV4dFxuICAgICAgICAgIHN0eWxlVGFyZ2V0ID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBtZW1vW3RhcmdldF0gPSBzdHlsZVRhcmdldDtcbiAgICB9XG5cbiAgICByZXR1cm4gbWVtb1t0YXJnZXRdO1xuICB9O1xufSgpO1xuXG52YXIgc3R5bGVzSW5Eb20gPSBbXTtcblxuZnVuY3Rpb24gZ2V0SW5kZXhCeUlkZW50aWZpZXIoaWRlbnRpZmllcikge1xuICB2YXIgcmVzdWx0ID0gLTE7XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdHlsZXNJbkRvbS5sZW5ndGg7IGkrKykge1xuICAgIGlmIChzdHlsZXNJbkRvbVtpXS5pZGVudGlmaWVyID09PSBpZGVudGlmaWVyKSB7XG4gICAgICByZXN1bHQgPSBpO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZnVuY3Rpb24gbW9kdWxlc1RvRG9tKGxpc3QsIG9wdGlvbnMpIHtcbiAgdmFyIGlkQ291bnRNYXAgPSB7fTtcbiAgdmFyIGlkZW50aWZpZXJzID0gW107XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGl0ZW0gPSBsaXN0W2ldO1xuICAgIHZhciBpZCA9IG9wdGlvbnMuYmFzZSA/IGl0ZW1bMF0gKyBvcHRpb25zLmJhc2UgOiBpdGVtWzBdO1xuICAgIHZhciBjb3VudCA9IGlkQ291bnRNYXBbaWRdIHx8IDA7XG4gICAgdmFyIGlkZW50aWZpZXIgPSBcIlwiLmNvbmNhdChpZCwgXCIgXCIpLmNvbmNhdChjb3VudCk7XG4gICAgaWRDb3VudE1hcFtpZF0gPSBjb3VudCArIDE7XG4gICAgdmFyIGluZGV4ID0gZ2V0SW5kZXhCeUlkZW50aWZpZXIoaWRlbnRpZmllcik7XG4gICAgdmFyIG9iaiA9IHtcbiAgICAgIGNzczogaXRlbVsxXSxcbiAgICAgIG1lZGlhOiBpdGVtWzJdLFxuICAgICAgc291cmNlTWFwOiBpdGVtWzNdXG4gICAgfTtcblxuICAgIGlmIChpbmRleCAhPT0gLTEpIHtcbiAgICAgIHN0eWxlc0luRG9tW2luZGV4XS5yZWZlcmVuY2VzKys7XG4gICAgICBzdHlsZXNJbkRvbVtpbmRleF0udXBkYXRlcihvYmopO1xuICAgIH0gZWxzZSB7XG4gICAgICBzdHlsZXNJbkRvbS5wdXNoKHtcbiAgICAgICAgaWRlbnRpZmllcjogaWRlbnRpZmllcixcbiAgICAgICAgdXBkYXRlcjogYWRkU3R5bGUob2JqLCBvcHRpb25zKSxcbiAgICAgICAgcmVmZXJlbmNlczogMVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWRlbnRpZmllcnMucHVzaChpZGVudGlmaWVyKTtcbiAgfVxuXG4gIHJldHVybiBpZGVudGlmaWVycztcbn1cblxuZnVuY3Rpb24gaW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMpIHtcbiAgdmFyIHN0eWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTtcbiAgdmFyIGF0dHJpYnV0ZXMgPSBvcHRpb25zLmF0dHJpYnV0ZXMgfHwge307XG5cbiAgaWYgKHR5cGVvZiBhdHRyaWJ1dGVzLm5vbmNlID09PSAndW5kZWZpbmVkJykge1xuICAgIHZhciBub25jZSA9IHR5cGVvZiBfX3dlYnBhY2tfbm9uY2VfXyAhPT0gJ3VuZGVmaW5lZCcgPyBfX3dlYnBhY2tfbm9uY2VfXyA6IG51bGw7XG5cbiAgICBpZiAobm9uY2UpIHtcbiAgICAgIGF0dHJpYnV0ZXMubm9uY2UgPSBub25jZTtcbiAgICB9XG4gIH1cblxuICBPYmplY3Qua2V5cyhhdHRyaWJ1dGVzKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICBzdHlsZS5zZXRBdHRyaWJ1dGUoa2V5LCBhdHRyaWJ1dGVzW2tleV0pO1xuICB9KTtcblxuICBpZiAodHlwZW9mIG9wdGlvbnMuaW5zZXJ0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgb3B0aW9ucy5pbnNlcnQoc3R5bGUpO1xuICB9IGVsc2Uge1xuICAgIHZhciB0YXJnZXQgPSBnZXRUYXJnZXQob3B0aW9ucy5pbnNlcnQgfHwgJ2hlYWQnKTtcblxuICAgIGlmICghdGFyZ2V0KSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDb3VsZG4ndCBmaW5kIGEgc3R5bGUgdGFyZ2V0LiBUaGlzIHByb2JhYmx5IG1lYW5zIHRoYXQgdGhlIHZhbHVlIGZvciB0aGUgJ2luc2VydCcgcGFyYW1ldGVyIGlzIGludmFsaWQuXCIpO1xuICAgIH1cblxuICAgIHRhcmdldC5hcHBlbmRDaGlsZChzdHlsZSk7XG4gIH1cblxuICByZXR1cm4gc3R5bGU7XG59XG5cbmZ1bmN0aW9uIHJlbW92ZVN0eWxlRWxlbWVudChzdHlsZSkge1xuICAvLyBpc3RhbmJ1bCBpZ25vcmUgaWZcbiAgaWYgKHN0eWxlLnBhcmVudE5vZGUgPT09IG51bGwpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBzdHlsZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHN0eWxlKTtcbn1cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuXG5cbnZhciByZXBsYWNlVGV4dCA9IGZ1bmN0aW9uIHJlcGxhY2VUZXh0KCkge1xuICB2YXIgdGV4dFN0b3JlID0gW107XG4gIHJldHVybiBmdW5jdGlvbiByZXBsYWNlKGluZGV4LCByZXBsYWNlbWVudCkge1xuICAgIHRleHRTdG9yZVtpbmRleF0gPSByZXBsYWNlbWVudDtcbiAgICByZXR1cm4gdGV4dFN0b3JlLmZpbHRlcihCb29sZWFuKS5qb2luKCdcXG4nKTtcbiAgfTtcbn0oKTtcblxuZnVuY3Rpb24gYXBwbHlUb1NpbmdsZXRvblRhZyhzdHlsZSwgaW5kZXgsIHJlbW92ZSwgb2JqKSB7XG4gIHZhciBjc3MgPSByZW1vdmUgPyAnJyA6IG9iai5tZWRpYSA/IFwiQG1lZGlhIFwiLmNvbmNhdChvYmoubWVkaWEsIFwiIHtcIikuY29uY2F0KG9iai5jc3MsIFwifVwiKSA6IG9iai5jc3M7IC8vIEZvciBvbGQgSUVcblxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgICovXG5cbiAgaWYgKHN0eWxlLnN0eWxlU2hlZXQpIHtcbiAgICBzdHlsZS5zdHlsZVNoZWV0LmNzc1RleHQgPSByZXBsYWNlVGV4dChpbmRleCwgY3NzKTtcbiAgfSBlbHNlIHtcbiAgICB2YXIgY3NzTm9kZSA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNzcyk7XG4gICAgdmFyIGNoaWxkTm9kZXMgPSBzdHlsZS5jaGlsZE5vZGVzO1xuXG4gICAgaWYgKGNoaWxkTm9kZXNbaW5kZXhdKSB7XG4gICAgICBzdHlsZS5yZW1vdmVDaGlsZChjaGlsZE5vZGVzW2luZGV4XSk7XG4gICAgfVxuXG4gICAgaWYgKGNoaWxkTm9kZXMubGVuZ3RoKSB7XG4gICAgICBzdHlsZS5pbnNlcnRCZWZvcmUoY3NzTm9kZSwgY2hpbGROb2Rlc1tpbmRleF0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBzdHlsZS5hcHBlbmRDaGlsZChjc3NOb2RlKTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gYXBwbHlUb1RhZyhzdHlsZSwgb3B0aW9ucywgb2JqKSB7XG4gIHZhciBjc3MgPSBvYmouY3NzO1xuICB2YXIgbWVkaWEgPSBvYmoubWVkaWE7XG4gIHZhciBzb3VyY2VNYXAgPSBvYmouc291cmNlTWFwO1xuXG4gIGlmIChtZWRpYSkge1xuICAgIHN0eWxlLnNldEF0dHJpYnV0ZSgnbWVkaWEnLCBtZWRpYSk7XG4gIH0gZWxzZSB7XG4gICAgc3R5bGUucmVtb3ZlQXR0cmlidXRlKCdtZWRpYScpO1xuICB9XG5cbiAgaWYgKHNvdXJjZU1hcCAmJiBidG9hKSB7XG4gICAgY3NzICs9IFwiXFxuLyojIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2Jhc2U2NCxcIi5jb25jYXQoYnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoc291cmNlTWFwKSkpKSwgXCIgKi9cIik7XG4gIH0gLy8gRm9yIG9sZCBJRVxuXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAgKi9cblxuXG4gIGlmIChzdHlsZS5zdHlsZVNoZWV0KSB7XG4gICAgc3R5bGUuc3R5bGVTaGVldC5jc3NUZXh0ID0gY3NzO1xuICB9IGVsc2Uge1xuICAgIHdoaWxlIChzdHlsZS5maXJzdENoaWxkKSB7XG4gICAgICBzdHlsZS5yZW1vdmVDaGlsZChzdHlsZS5maXJzdENoaWxkKTtcbiAgICB9XG5cbiAgICBzdHlsZS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjc3MpKTtcbiAgfVxufVxuXG52YXIgc2luZ2xldG9uID0gbnVsbDtcbnZhciBzaW5nbGV0b25Db3VudGVyID0gMDtcblxuZnVuY3Rpb24gYWRkU3R5bGUob2JqLCBvcHRpb25zKSB7XG4gIHZhciBzdHlsZTtcbiAgdmFyIHVwZGF0ZTtcbiAgdmFyIHJlbW92ZTtcblxuICBpZiAob3B0aW9ucy5zaW5nbGV0b24pIHtcbiAgICB2YXIgc3R5bGVJbmRleCA9IHNpbmdsZXRvbkNvdW50ZXIrKztcbiAgICBzdHlsZSA9IHNpbmdsZXRvbiB8fCAoc2luZ2xldG9uID0gaW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMpKTtcbiAgICB1cGRhdGUgPSBhcHBseVRvU2luZ2xldG9uVGFnLmJpbmQobnVsbCwgc3R5bGUsIHN0eWxlSW5kZXgsIGZhbHNlKTtcbiAgICByZW1vdmUgPSBhcHBseVRvU2luZ2xldG9uVGFnLmJpbmQobnVsbCwgc3R5bGUsIHN0eWxlSW5kZXgsIHRydWUpO1xuICB9IGVsc2Uge1xuICAgIHN0eWxlID0gaW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMpO1xuICAgIHVwZGF0ZSA9IGFwcGx5VG9UYWcuYmluZChudWxsLCBzdHlsZSwgb3B0aW9ucyk7XG5cbiAgICByZW1vdmUgPSBmdW5jdGlvbiByZW1vdmUoKSB7XG4gICAgICByZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGUpO1xuICAgIH07XG4gIH1cblxuICB1cGRhdGUob2JqKTtcbiAgcmV0dXJuIGZ1bmN0aW9uIHVwZGF0ZVN0eWxlKG5ld09iaikge1xuICAgIGlmIChuZXdPYmopIHtcbiAgICAgIGlmIChuZXdPYmouY3NzID09PSBvYmouY3NzICYmIG5ld09iai5tZWRpYSA9PT0gb2JqLm1lZGlhICYmIG5ld09iai5zb3VyY2VNYXAgPT09IG9iai5zb3VyY2VNYXApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB1cGRhdGUob2JqID0gbmV3T2JqKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVtb3ZlKCk7XG4gICAgfVxuICB9O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChsaXN0LCBvcHRpb25zKSB7XG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9OyAvLyBGb3JjZSBzaW5nbGUtdGFnIHNvbHV0aW9uIG9uIElFNi05LCB3aGljaCBoYXMgYSBoYXJkIGxpbWl0IG9uIHRoZSAjIG9mIDxzdHlsZT5cbiAgLy8gdGFncyBpdCB3aWxsIGFsbG93IG9uIGEgcGFnZVxuXG4gIGlmICghb3B0aW9ucy5zaW5nbGV0b24gJiYgdHlwZW9mIG9wdGlvbnMuc2luZ2xldG9uICE9PSAnYm9vbGVhbicpIHtcbiAgICBvcHRpb25zLnNpbmdsZXRvbiA9IGlzT2xkSUUoKTtcbiAgfVxuXG4gIGxpc3QgPSBsaXN0IHx8IFtdO1xuICB2YXIgbGFzdElkZW50aWZpZXJzID0gbW9kdWxlc1RvRG9tKGxpc3QsIG9wdGlvbnMpO1xuICByZXR1cm4gZnVuY3Rpb24gdXBkYXRlKG5ld0xpc3QpIHtcbiAgICBuZXdMaXN0ID0gbmV3TGlzdCB8fCBbXTtcblxuICAgIGlmIChPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobmV3TGlzdCkgIT09ICdbb2JqZWN0IEFycmF5XScpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxhc3RJZGVudGlmaWVycy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGlkZW50aWZpZXIgPSBsYXN0SWRlbnRpZmllcnNbaV07XG4gICAgICB2YXIgaW5kZXggPSBnZXRJbmRleEJ5SWRlbnRpZmllcihpZGVudGlmaWVyKTtcbiAgICAgIHN0eWxlc0luRG9tW2luZGV4XS5yZWZlcmVuY2VzLS07XG4gICAgfVxuXG4gICAgdmFyIG5ld0xhc3RJZGVudGlmaWVycyA9IG1vZHVsZXNUb0RvbShuZXdMaXN0LCBvcHRpb25zKTtcblxuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBsYXN0SWRlbnRpZmllcnMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICB2YXIgX2lkZW50aWZpZXIgPSBsYXN0SWRlbnRpZmllcnNbX2ldO1xuXG4gICAgICB2YXIgX2luZGV4ID0gZ2V0SW5kZXhCeUlkZW50aWZpZXIoX2lkZW50aWZpZXIpO1xuXG4gICAgICBpZiAoc3R5bGVzSW5Eb21bX2luZGV4XS5yZWZlcmVuY2VzID09PSAwKSB7XG4gICAgICAgIHN0eWxlc0luRG9tW19pbmRleF0udXBkYXRlcigpO1xuXG4gICAgICAgIHN0eWxlc0luRG9tLnNwbGljZShfaW5kZXgsIDEpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGxhc3RJZGVudGlmaWVycyA9IG5ld0xhc3RJZGVudGlmaWVycztcbiAgfTtcbn07IiwiaW1wb3J0IHsgSU9wdGlvbnMsIGRlZmF1bHRPcHRpb25zIH0gZnJvbSAnLi9kZWZhdWx0T3B0aW9ucyc7XHJcbmltcG9ydCB7IElPYnNlcnZhYmxlLCBPYnNlcnZhYmxlLCBNb2RlbE1lc3NhZ2UgfSBmcm9tICcuL09ic2VydmVyJztcclxuaW1wb3J0IHsgaXNOdW1lcmljLCBnZXROdW1iZXJPZlN0ZXBzLCBkZWVwRXF1YWwgfSBmcm9tICcuL2NvbW1vbkZ1bmN0aW9ucyc7XHJcbmltcG9ydCB7IHZhbGlkYXRlTW9kZWwsIElXYXJuaW5ncyB9IGZyb20gJy4vdmFsaWRhdGlvbnMnO1xyXG5cclxuaW50ZXJmYWNlIElNb2RlbE9wdGlvbnMge1xyXG4gICAgYmVnaW46IG51bWJlcjtcclxuICAgIGVuZDogbnVtYmVyO1xyXG4gICAgcmFuZ2U6IGJvb2xlYW47XHJcbiAgICBtaW46IG51bWJlcjtcclxuICAgIG1heDogbnVtYmVyO1xyXG4gICAgc3RlcDogbnVtYmVyO1xyXG4gICAgY3VzdG9tVmFsdWVzPzogc3RyaW5nW107XHJcbiAgICByZXZlcnNlOiBib29sZWFuO1xyXG59XHJcblxyXG5pbnRlcmZhY2UgSU1vZGVsIGV4dGVuZHMgSU9ic2VydmFibGUge1xyXG4gICAgdXBkYXRlKG9wdGlvbnM6IElNb2RlbE9wdGlvbnMpOiB2b2lkO1xyXG4gICAgc2V0QmVnaW5CeU9mZnNldFJhY2lvKHJhY2lvOiBudW1iZXIpOiB2b2lkO1xyXG4gICAgc2V0RW5kQnlPZmZzZXRSYWNpbyhyYWNpbzogbnVtYmVyKTogdm9pZFxyXG5cclxuICAgIGdldE9wdGlvbnMoKTogSU1vZGVsT3B0aW9ucztcclxuICAgIGdldFdhcm5pbmdzKCk6IElXYXJuaW5ncztcclxufVxyXG5cclxuXHJcbmNsYXNzIE1vZGVsIGV4dGVuZHMgT2JzZXJ2YWJsZTxNb2RlbE1lc3NhZ2U+IGltcGxlbWVudHMgSU1vZGVsIHtcclxuICAgIHByaXZhdGUgX2JlZ2luOiBudW1iZXIgfCBudWxsO1xyXG4gICAgcHJpdmF0ZSBfZW5kOiBudW1iZXIgfCBudWxsO1xyXG4gICAgcHJpdmF0ZSBfcmFuZ2U6IGJvb2xlYW47XHJcbiAgICBwcml2YXRlIF9taW46IG51bWJlcjtcclxuICAgIHByaXZhdGUgX21heDogbnVtYmVyOyAgIFxyXG4gICAgcHJpdmF0ZSBfc3RlcDogbnVtYmVyO1xyXG4gICAgcHJpdmF0ZSBfY3VzdG9tVmFsdWVzPzogc3RyaW5nW10gfCB1bmRlZmluZWQ7XHJcbiAgICBwcml2YXRlIF9yZXZlcnNlOiBib29sZWFuO1xyXG5cclxuICAgIHByaXZhdGUgX3dhcm5pbmdzOiBJV2FybmluZ3M7XHJcblxyXG4gICAgY29uc3RydWN0b3Iob3B0aW9uczogSU1vZGVsT3B0aW9ucykge1xyXG5cclxuICAgICAgICBzdXBlcigpO1xyXG5cclxuICAgICAgICBsZXQgZnVsbE9wdGlvbnM6IElNb2RlbE9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHt9LCBkZWZhdWx0T3B0aW9ucywgb3B0aW9ucyk7XHJcbiAgICAgICAgbGV0IHZhbGlkT3B0aW9uczogSU1vZGVsT3B0aW9ucztcclxuXHJcbiAgICAgICAgdGhpcy52YWxpZGF0ZShmdWxsT3B0aW9ucyk7XHJcbiAgICAgICAgdmFsaWRPcHRpb25zID0gdGhpcy5ub3JtYWxpemUoZnVsbE9wdGlvbnMsIGRlZmF1bHRPcHRpb25zKTtcclxuICAgICAgICB0aGlzLnNldE9wdGlvbnModmFsaWRPcHRpb25zKTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgcHVibGljIHVwZGF0ZShvcHRpb25zOiBJTW9kZWxPcHRpb25zKTogdm9pZCB7XHJcbiAgICAgICAgbGV0IHByZXZPcHRpb25zID0gdGhpcy5nZXRPcHRpb25zKCk7XHJcbiAgICAgICAgdGhpcy52YWxpZGF0ZShPYmplY3QuYXNzaWduKHt9LCBwcmV2T3B0aW9ucywgb3B0aW9ucykpXHJcbiAgICAgICAgbGV0IHZhbGlkT3B0aW9uczogSU1vZGVsT3B0aW9ucyA9IHRoaXMubm9ybWFsaXplKG9wdGlvbnMsIHByZXZPcHRpb25zKTtcclxuICAgICAgICB0aGlzLnNldE9wdGlvbnModmFsaWRPcHRpb25zKTtcclxuXHJcbiAgICAgICAgLy8g0LzQvtC20L3QviDRg9Cx0YDQsNGC0YxcclxuICAgICAgICB0aGlzLm5vdGlmeSh7IFxyXG4gICAgICAgICAgICB0eXBlOiAnTkVXX0RBVEEnLFxyXG4gICAgICAgICAgICBvcHRpb25zOiB0aGlzLmdldE9wdGlvbnMoKVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuXHJcblxyXG4gICAgcHVibGljIHNldEVuZEJ5T2Zmc2V0UmFjaW8ocmFjaW86IG51bWJlcik6IHZvaWQge1xyXG4gICAgICAgIGxldCB2YWx1ZTogbnVtYmVyID0gdGhpcy5maW5kVmFsdWVCeU9mZnNldFJhY2lvKHJhY2lvKTtcclxuICAgICAgICBpZiAoIHZhbHVlIDwgdGhpcy5fYmVnaW4gKSB7IHZhbHVlID0gdGhpcy5fYmVnaW4gfVxyXG4gICAgICAgIHRoaXMuX2VuZCA9IHZhbHVlO1xyXG5cclxuICAgICAgICB0aGlzLm5vdGlmeSh7IFxyXG4gICAgICAgICAgICB0eXBlOiAnTkVXX1ZBTFVFJyxcclxuICAgICAgICAgICAgb3B0aW9uczogdGhpcy5nZXRPcHRpb25zKClcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgcHVibGljIHNldEJlZ2luQnlPZmZzZXRSYWNpbyhyYWNpbzogbnVtYmVyKTogdm9pZCB7XHJcbiAgICAgICAgaWYgKCF0aGlzLl9yYW5nZSkgeyByZXR1cm4gfTtcclxuXHJcbiAgICAgICAgbGV0IHZhbHVlOiBudW1iZXIgPSB0aGlzLmZpbmRWYWx1ZUJ5T2Zmc2V0UmFjaW8ocmFjaW8pO1xyXG4gICAgICAgIGlmICggdmFsdWUgPiB0aGlzLl9lbmQgKSB7IHZhbHVlID0gdGhpcy5fZW5kIH1cclxuICAgICAgICB0aGlzLl9iZWdpbiA9IHZhbHVlO1xyXG5cclxuICAgICAgICB0aGlzLm5vdGlmeSh7IFxyXG4gICAgICAgICAgICB0eXBlOiAnTkVXX1ZBTFVFJyxcclxuICAgICAgICAgICAgb3B0aW9uczogdGhpcy5nZXRPcHRpb25zKClcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgcHJpdmF0ZSBmaW5kVmFsdWVCeU9mZnNldFJhY2lvKHJhY2lvOiBudW1iZXIpOiBudW1iZXIge1xyXG4gICAgICAgIGxldCB2YWx1ZTogbnVtYmVyO1xyXG5cclxuICAgICAgICB2YWx1ZSA9IHJhY2lvICogKHRoaXMuX21heCAtIHRoaXMuX21pbik7XHJcbiAgICAgICAgdmFsdWUgPSAhdGhpcy5fcmV2ZXJzZSA/IFxyXG4gICAgICAgIHRoaXMuX21pbiArIHZhbHVlIDpcclxuICAgICAgICB0aGlzLl9tYXggLSB2YWx1ZTtcclxuXHJcbiAgICAgICAgdmFsdWUgPSB0aGlzLmZpbmRDbG9zZXN0VmFsdWUodmFsdWUsIHRoaXMuZ2V0T3B0aW9ucygpKTtcclxuICAgICAgICByZXR1cm4gdmFsdWU7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIHB1YmxpYyBnZXRPcHRpb25zKCk6IElNb2RlbE9wdGlvbnMge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIGJlZ2luOiB0aGlzLl9iZWdpbixcclxuICAgICAgICAgICAgZW5kOiB0aGlzLl9lbmQsXHJcbiAgICAgICAgICAgIHJhbmdlOiB0aGlzLl9yYW5nZSxcclxuICAgICAgICAgICAgbWluOiB0aGlzLl9taW4sXHJcbiAgICAgICAgICAgIG1heDogdGhpcy5fbWF4LCAgIFxyXG4gICAgICAgICAgICBzdGVwOiB0aGlzLl9zdGVwLFxyXG4gICAgICAgICAgICBjdXN0b21WYWx1ZXM6IHRoaXMuX2N1c3RvbVZhbHVlcyxcclxuICAgICAgICAgICAgcmV2ZXJzZTogdGhpcy5fcmV2ZXJzZVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcblxyXG4gICAgcHVibGljIGdldFdhcm5pbmdzKCk6IElXYXJuaW5ncyB7XHJcbiAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIHRoaXMuX3dhcm5pbmdzKTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgcHJpdmF0ZSBzZXRPcHRpb25zKG9wdGlvbnM6IElNb2RlbE9wdGlvbnMpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLl9iZWdpbiA9IG9wdGlvbnMuYmVnaW47XHJcbiAgICAgICAgdGhpcy5fZW5kID0gb3B0aW9ucy5lbmQ7XHJcbiAgICAgICAgdGhpcy5fcmFuZ2UgPSBvcHRpb25zLnJhbmdlO1xyXG4gICAgICAgIHRoaXMuX21pbiA9IG9wdGlvbnMubWluO1xyXG4gICAgICAgIHRoaXMuX21heCA9IG9wdGlvbnMubWF4O1xyXG4gICAgICAgIHRoaXMuX3N0ZXAgPSBvcHRpb25zLnN0ZXA7XHJcbiAgICAgICAgdGhpcy5fY3VzdG9tVmFsdWVzID0gb3B0aW9ucy5jdXN0b21WYWx1ZXM7ICAgICAgXHJcbiAgICAgICAgdGhpcy5fcmV2ZXJzZSA9IG9wdGlvbnMucmV2ZXJzZTsgICAgICAgIFxyXG4gICAgfVxyXG5cclxuXHJcbiAgICBwcml2YXRlIHZhbGlkYXRlKG9wdGlvbnM6IElNb2RlbE9wdGlvbnMpOiB2b2lkIHtcclxuXHJcbiAgICAgICAgdGhpcy5fd2FybmluZ3MgPSB7fTtcclxuICAgICAgICB0aGlzLl93YXJuaW5ncyA9IHZhbGlkYXRlTW9kZWwob3B0aW9ucyk7XHJcblxyXG4gICAgICAgIGlmICggT2JqZWN0LmtleXModGhpcy5fd2FybmluZ3MpLmxlbmd0aCAhPSAwICkge1xyXG5cclxuICAgICAgICAgICAgbGV0IHdhcm5pbmdzOiBJV2FybmluZ3MgPSBPYmplY3QuYXNzaWduKHt9LCB0aGlzLl93YXJuaW5ncyk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICB0aGlzLm5vdGlmeSh7XHJcbiAgICAgICAgICAgICAgICB0eXBlOiAnV0FSTklOR1MnLFxyXG4gICAgICAgICAgICAgICAgd2FybmluZ3M6IHdhcm5pbmdzXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuXHJcbiAgICBwcml2YXRlIG5vcm1hbGl6ZShvcHRpb25zOiBJTW9kZWxPcHRpb25zLCBiYXNlT3B0aW9uczogSU1vZGVsT3B0aW9ucyk6IElNb2RlbE9wdGlvbnMge1xyXG5cclxuICAgICAgICBvcHRpb25zID0gT2JqZWN0LmFzc2lnbih7fSwgYmFzZU9wdGlvbnMsIG9wdGlvbnMpO1xyXG4gICAgICAgIGxldCB7IGJlZ2luLCBlbmQsIHJhbmdlLCBtaW4sIG1heCwgc3RlcCwgcmV2ZXJzZSwgY3VzdG9tVmFsdWVzIH0gPSBvcHRpb25zO1xyXG5cclxuICAgICAgICBpZiAoIHRoaXMuX3dhcm5pbmdzLmN1c3RvbVZhbHVlc0lzTm90QXJyYXkgfHwgdGhpcy5fd2FybmluZ3MuY3VzdG9tVmFsdWVzSXNUb29TbWFsbCApIHtcclxuICAgICAgICAgICAgY3VzdG9tVmFsdWVzID0gdW5kZWZpbmVkO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKCBjdXN0b21WYWx1ZXMgKSB7XHJcbiAgICAgICAgICAgIG1pbiA9IDA7XHJcbiAgICAgICAgICAgIG1heCA9IGN1c3RvbVZhbHVlcy5sZW5ndGggLSAxO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbWluID0gdGhpcy5ub3JtYWxpemVOdW1iZXIobWluLCBiYXNlT3B0aW9ucy5taW4pO1xyXG4gICAgICAgIG1heCA9IHRoaXMubm9ybWFsaXplTnVtYmVyKG1heCwgYmFzZU9wdGlvbnMubWF4KTtcclxuICAgICAgICBzdGVwID0gdGhpcy5ub3JtYWxpemVOdW1iZXIoc3RlcCwgYmFzZU9wdGlvbnMuc3RlcCk7XHJcblxyXG4gICAgICAgIGlmICggdGhpcy5fd2FybmluZ3MubWluSXNPdmVyTWF4ICkge1xyXG4gICAgICAgICAgICBbbWluLCBtYXhdID0gW21heCwgbWluXTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICggdGhpcy5fd2FybmluZ3MubWluSXNFcXVhbFRvTWF4ICkge1xyXG4gICAgICAgICAgICBtaW4gPSBiYXNlT3B0aW9ucy5taW47XHJcbiAgICAgICAgICAgIG1heCA9IGJhc2VPcHRpb25zLm1heDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICggdGhpcy5fd2FybmluZ3Muc3RlcElzTnVsbCB8fCB0aGlzLl93YXJuaW5ncy50b29CaWdTdGVwICkge1xyXG4gICAgICAgICAgICBzdGVwID0gMTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHN0ZXAgPSBNYXRoLmFicyhzdGVwKTtcclxuICAgICAgICByZXZlcnNlID0gISFyZXZlcnNlO1xyXG4gICAgICAgIHJhbmdlID0gISFyYW5nZTtcclxuXHJcbiAgICAgICAgaWYgKCB0aGlzLl93YXJuaW5ncy5iZWdpbklzT3ZlckVuZCApIHtcclxuICAgICAgICAgICAgW2JlZ2luLCBlbmRdID0gW2VuZCwgYmVnaW5dO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbmQgPSB0aGlzLm5vcm1hbGl6ZU51bWJlcihlbmQsIG1heCk7XHJcbiAgICAgICAgZW5kID0gdGhpcy5maW5kQ2xvc2VzdFZhbHVlKGVuZCwgb3B0aW9ucyk7XHJcblxyXG4gICAgICAgIGlmICggIXJhbmdlICkge1xyXG4gICAgICAgICAgICBiZWdpbiA9IG1pbjtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBiZWdpbiA9IHRoaXMubm9ybWFsaXplTnVtYmVyKGJlZ2luLCBtaW4pO1xyXG4gICAgICAgICAgICBiZWdpbiA9IHRoaXMuZmluZENsb3Nlc3RWYWx1ZShiZWdpbiwgb3B0aW9ucyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4geyBiZWdpbiwgZW5kLCByYW5nZSwgbWluLCBtYXgsIHN0ZXAsIHJldmVyc2UsIGN1c3RvbVZhbHVlcyB9O1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBwcml2YXRlIG5vcm1hbGl6ZU51bWJlcih2YWx1ZTogbnVtYmVyLCBkZWZhdWx0VmFsOiBudW1iZXIpOiBudW1iZXIge1xyXG4gICAgICAgIGxldCBuZXdWYWx1ZTogbnVtYmVyID0gdmFsdWU7XHJcblxyXG4gICAgICAgIGlmICggIWlzTnVtZXJpYyh2YWx1ZSkgKSB7XHJcbiAgICAgICAgICAgIG5ld1ZhbHVlID0gZGVmYXVsdFZhbDtcclxuICAgICAgICB9XHJcbiAgICAgICAgbmV3VmFsdWUgPSBNYXRoLnRydW5jKCtuZXdWYWx1ZSk7XHJcbiAgICAgICAgcmV0dXJuIG5ld1ZhbHVlO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBwcml2YXRlIGZpbmRDbG9zZXN0VmFsdWUodmFsdWU6IG51bWJlciwgb3B0aW9uczogSU1vZGVsT3B0aW9ucyk6IG51bWJlciB7XHJcbiAgICAgICAgbGV0IHByZXZWYWx1ZTogbnVtYmVyO1xyXG4gICAgICAgIGxldCBuZXh0VmFsdWU6IG51bWJlcjtcclxuICAgICAgICBsZXQgeyBtaW4sIG1heCwgc3RlcCwgcmV2ZXJzZSB9ID0gb3B0aW9ucztcclxuICAgICAgICBcclxuICAgICAgICBpZiAodmFsdWUgPD0gbWluKSB7IHJldHVybiBtaW4gfTtcclxuICAgICAgICBpZiAodmFsdWUgPj0gbWF4KSB7IHJldHVybiBtYXggfTtcclxuXHJcbiAgICAgICAgaWYgKCFyZXZlcnNlKSB7XHJcbiAgICAgICAgICAgIHByZXZWYWx1ZSA9IE1hdGgudHJ1bmMoICh2YWx1ZSAtIG1pbikgLyBzdGVwICkgKiBzdGVwO1xyXG4gICAgICAgICAgICBuZXh0VmFsdWUgPSBNYXRoLnRydW5jKCAodmFsdWUgLSBtaW4pIC8gc3RlcCApICogc3RlcCArIHN0ZXA7XHJcblxyXG4gICAgICAgICAgICBuZXh0VmFsdWUgPSBuZXh0VmFsdWUgPCBtYXggPyBuZXh0VmFsdWUgOiBtYXg7XHJcbiAgICAgICAgICAgIHZhbHVlID0gdmFsdWUgPCBwcmV2VmFsdWUgKyAobmV4dFZhbHVlIC0gcHJldlZhbHVlKSAvIDIgPyBwcmV2VmFsdWUgOiBuZXh0VmFsdWU7XHJcblxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHByZXZWYWx1ZSA9IG1heCAtIE1hdGgudHJ1bmMoIChtYXggLSB2YWx1ZSkgLyBzdGVwICkgKiBzdGVwIC0gc3RlcDtcclxuICAgICAgICAgICAgbmV4dFZhbHVlID0gbWF4IC0gTWF0aC50cnVuYyggKG1heCAtIHZhbHVlKSAvIHN0ZXAgKSAqIHN0ZXA7XHJcblxyXG4gICAgICAgICAgICBwcmV2VmFsdWUgPSBwcmV2VmFsdWUgPiBtaW4gPyBwcmV2VmFsdWUgOiBtaW47XHJcbiAgICAgICAgICAgIHZhbHVlID0gdmFsdWUgPCBuZXh0VmFsdWUgLSAobmV4dFZhbHVlIC0gcHJldlZhbHVlKSAvIDIgPyBwcmV2VmFsdWUgOiBuZXh0VmFsdWU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gdmFsdWU7XHJcbiAgICB9XHJcbn1cclxuXHJcblxyXG5leHBvcnQgeyBJTW9kZWwsIElNb2RlbE9wdGlvbnMgfTtcclxuZXhwb3J0IGRlZmF1bHQgTW9kZWw7XHJcbiIsImltcG9ydCB7IElPcHRpb25zLCBkZWZhdWx0T3B0aW9ucyB9IGZyb20gJy4vZGVmYXVsdE9wdGlvbnMnO1xyXG5pbXBvcnQgeyBJT2JzZXJ2YWJsZSwgT2JzZXJ2YWJsZSwgVmlld01lc3NhZ2UgfSBmcm9tICcuL09ic2VydmVyJztcclxuaW1wb3J0IHsgaXNOdW1lcmljLCBnZXROdW1iZXJPZlN0ZXBzIH0gZnJvbSAnLi9jb21tb25GdW5jdGlvbnMnO1xyXG5pbXBvcnQgeyB2YWxpZGF0ZVZpZXcsIElXYXJuaW5ncyB9IGZyb20gJy4vdmFsaWRhdGlvbnMnO1xyXG5pbXBvcnQgeyBJTW9kZWwsIElNb2RlbE9wdGlvbnMgfSBmcm9tICcuL01vZGVsJztcclxuXHJcblxyXG5pbnRlcmZhY2UgSVZpZXdPcHRpb25zIHtcclxuICAgIGxlbmd0aDogc3RyaW5nO1xyXG4gICAgdmVydGljYWw6IGJvb2xlYW47XHJcbiAgICB0b29sdGlwOiBib29sZWFuO1xyXG4gICAgc2NhbGU6IGJvb2xlYW47XHJcbn1cclxuXHJcbmludGVyZmFjZSBJVmlldyBleHRlbmRzIElPYnNlcnZhYmxlIHtcclxuICAgIHVwZGF0ZShvcHRpb25zOiBJTW9kZWxPcHRpb25zKTogdm9pZDtcclxuICAgIHJlcmVuZGVyKG9wdGlvbnM6IElPcHRpb25zKTogdm9pZDtcclxuXHJcbiAgICBnZXRPcHRpb25zKCk6IElWaWV3T3B0aW9ucztcclxuICAgIGdldFdhcm5pbmdzKCk6IElXYXJuaW5ncztcclxufVxyXG5cclxuY2xhc3MgVmlldyBleHRlbmRzIE9ic2VydmFibGU8Vmlld01lc3NhZ2U+IGltcGxlbWVudHMgSVZpZXcgIHtcclxuICAgIFt4OiBzdHJpbmddOiBhbnk7XHJcblxyXG4gICAgcHJpdmF0ZSBfbGVuZ3RoOiBzdHJpbmc7XHJcbiAgICBwcml2YXRlIF92ZXJ0aWNhbDogYm9vbGVhbjtcclxuXHJcbiAgICBwcml2YXRlIF9zbGlkZXI6IEhUTUxEaXZFbGVtZW50O1xyXG4gICAgcHJpdmF0ZSBfdGh1bWJGaXJzdD86IEhUTUxEaXZFbGVtZW50IHwgdW5kZWZpbmVkO1xyXG4gICAgcHJpdmF0ZSBfdGh1bWJMYXN0PzogSFRNTERpdkVsZW1lbnQgfCB1bmRlZmluZWQ7XHJcbiAgICBwcml2YXRlIF9iYXI6IEhUTUxEaXZFbGVtZW50O1xyXG4gICAgcHJpdmF0ZSBfdG9vbHRpcEZpcnN0PzogSFRNTERpdkVsZW1lbnQgfCB1bmRlZmluZWQ7XHJcbiAgICBwcml2YXRlIF90b29sdGlwTGFzdD86IEhUTUxEaXZFbGVtZW50IHwgdW5kZWZpbmVkO1xyXG4gICAgcHJpdmF0ZSBfc2NhbGU/OiBIVE1MRGl2RWxlbWVudCB8IHVuZGVmaW5lZDtcclxuXHJcbiAgICBwcml2YXRlIF9hY3RpdmVUaHVtYjogSFRNTERpdkVsZW1lbnQ7XHJcbiAgICBwcml2YXRlIF93YXJuaW5nczogSVdhcm5pbmdzO1xyXG4gICAgXHJcbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zOiBJT3B0aW9ucywgc2xpZGVyTm9kZTogSFRNTERpdkVsZW1lbnQpIHtcclxuXHJcbiAgICAgICAgc3VwZXIoKTtcclxuXHJcbiAgICAgICAgb3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oZGVmYXVsdE9wdGlvbnMsIG9wdGlvbnMpO1xyXG4gICAgICAgIHRoaXMudmFsaWRhdGUob3B0aW9ucyk7XHJcblxyXG4gICAgICAgIHRoaXMuX3NsaWRlciA9IHNsaWRlck5vZGU7XHJcbiAgICAgICAgdGhpcy5fc2xpZGVyLmNsYXNzTGlzdC5hZGQoJ3NsaWRlcicpO1xyXG5cclxuICAgICAgICB0aGlzLmJ1aWxkKG9wdGlvbnMpXHJcbiAgICB9XHJcblxyXG5cclxuICAgIHB1YmxpYyB1cGRhdGUob3B0aW9uczogSU1vZGVsT3B0aW9ucyk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuc2V0VGh1bWJzKG9wdGlvbnMpO1xyXG4gICAgICAgIHRoaXMuc2V0QmFyUG9zaXRpb24oKTtcclxuICAgICAgICBpZiAodGhpcy5fdG9vbHRpcCB8fCB0aGlzLl90b29sdGlwRmlyc3QpIHtcclxuICAgICAgICAgICAgdGhpcy5zZXRUb29sdGlwVmFsdWVzKG9wdGlvbnMpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcblxyXG4gICAgcHVibGljIHJlcmVuZGVyKG9wdGlvbnM6IElPcHRpb25zKTogdm9pZCB7XHJcbiAgICAgICAgb3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oe30sIHRoaXMuZ2V0T3B0aW9ucygpLCBvcHRpb25zKTtcclxuXHJcbiAgICAgICAgdGhpcy52YWxpZGF0ZShvcHRpb25zKTtcclxuICAgICAgICB0aGlzLnJlYnVpbGQob3B0aW9ucyk7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIHB1YmxpYyBnZXRPcHRpb25zKCk6IElWaWV3T3B0aW9ucyB7XHJcbiAgICAgICAgbGV0IHRvb2x0aXAgPSAhIXRoaXMuX3Rvb2x0aXAgfHwgISF0aGlzLl90b29sdGlwRmlyc3Q7XHJcbiAgICAgICAgbGV0IHNjYWxlID0gISF0aGlzLl9zY2FsZTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgbGVuZ3RoOiAgdGhpcy5fbGVuZ3RoLFxyXG4gICAgICAgICAgICB2ZXJ0aWNhbDogdGhpcy5fdmVydGljYWwsXHJcbiAgICAgICAgICAgIHRvb2x0aXA6IHRvb2x0aXAsXHJcbiAgICAgICAgICAgIHNjYWxlOiBzY2FsZSAgICAgICAgICAgIFxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcblxyXG4gICAgcHVibGljIGdldFdhcm5pbmdzKCk6IElXYXJuaW5ncyB7XHJcbiAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIHRoaXMuX3dhcm5pbmdzKTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgcHJpdmF0ZSBoYW5kbGVUaHVtYkRvd24oZXZlbnQpOiB2b2lkIHtcclxuICAgICAgICAvLyDQv9GA0LXQtNC+0YLQstGA0LDRgtC40YLRjCDQt9Cw0L/Rg9GB0Log0LLRi9C00LXQu9C10L3QuNGPICjQtNC10LnRgdGC0LLQuNC1INCx0YDQsNGD0LfQtdGA0LApXHJcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuXHJcbiAgICAgICAgdGhpcy5fYWN0aXZlVGh1bWIgPSBldmVudC5jdXJyZW50VGFyZ2V0O1xyXG5cclxuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCB0aGlzLmhhbmRsZVRodW1iTW92ZSk7XHJcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIHRoaXMuaGFuZGxlVGh1bWJVcCk7XHJcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2htb3ZlJywgdGhpcy5oYW5kbGVUaHVtYk1vdmUpO1xyXG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoZW5kJywgdGhpcy5oYW5kbGVUaHVtYlVwKTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgcHJpdmF0ZSBoYW5kbGVUaHVtYk1vdmUoZXZlbnQpOiB2b2lkIHtcclxuICAgICAgICBsZXQgbGVuZ3RoOiBudW1iZXIgPSB0aGlzLmdldExlbmd0aEluUHgoKTtcclxuICAgICAgICBsZXQgb2Zmc2V0OiBudW1iZXIgPSB0aGlzLmdldE9mZnNldEluUHgoKTtcclxuICAgICAgICBsZXQgZXZlbnRQb3M6IG51bWJlcjtcclxuICAgICAgICBsZXQgbmV3VGh1bWJQb3NpdGlvbjogbnVtYmVyO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGlmIChldmVudC50b3VjaGVzKSB7XHJcbiAgICAgICAgICAgIGV2ZW50UG9zID0gIXRoaXMuX3ZlcnRpY2FsID8gZXZlbnQudG91Y2hlc1swXS5jbGllbnRYIDogZXZlbnQudG91Y2hlc1swXS5jbGllbnRZO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGV2ZW50UG9zID0gIXRoaXMuX3ZlcnRpY2FsID8gZXZlbnQuY2xpZW50WCA6IGV2ZW50LmNsaWVudFk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBuZXdUaHVtYlBvc2l0aW9uID0gKGV2ZW50UG9zIC0gb2Zmc2V0KSAvIGxlbmd0aDtcclxuICAgICAgICBcclxuICAgICAgICBpZiAoIHRoaXMuX2FjdGl2ZVRodW1iID09IHRoaXMuX3RodW1iTGFzdCApIHtcclxuXHJcbiAgICAgICAgICAgIHRoaXMubm90aWZ5KHtcclxuICAgICAgICAgICAgICAgIHR5cGU6ICdMQVNUX1RIVU1CX01PVkVEJyxcclxuICAgICAgICAgICAgICAgIG9mZnNldFJhY2lvOiBuZXdUaHVtYlBvc2l0aW9uXHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICB9IGVsc2Uge1xyXG5cclxuICAgICAgICAgICAgdGhpcy5ub3RpZnkoe1xyXG4gICAgICAgICAgICAgICAgdHlwZTogJ0ZJUlNUX1RIVU1CX01PVkVEJyxcclxuICAgICAgICAgICAgICAgIG9mZnNldFJhY2lvOiBuZXdUaHVtYlBvc2l0aW9uXHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG5cclxuICAgIHByaXZhdGUgaGFuZGxlU2xpZGVyQ2xpY2soZXZlbnQpOiB2b2lkIHtcclxuICAgICAgICBsZXQgbGVuZ3RoOiBudW1iZXIgPSB0aGlzLmdldExlbmd0aEluUHgoKTtcclxuICAgICAgICBsZXQgb2Zmc2V0OiBudW1iZXIgPSB0aGlzLmdldE9mZnNldEluUHgoKTtcclxuICAgICAgICBsZXQgZXZlbnRQb3M6IG51bWJlcjtcclxuICAgICAgICBsZXQgbmV3VGh1bWJQb3NpdGlvbjogbnVtYmVyO1xyXG4gICAgICAgIGxldCBpc0xhc3RNb3ZlZDogYm9vbGVhbjtcclxuICAgICAgICBcclxuICAgICAgICBpZiAoZXZlbnQudG91Y2hlcykge1xyXG4gICAgICAgICAgICBldmVudFBvcyA9ICF0aGlzLl92ZXJ0aWNhbCA/IGV2ZW50LnRvdWNoZXNbMF0uY2xpZW50WCA6IGV2ZW50LnRvdWNoZXNbMF0uY2xpZW50WTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBldmVudFBvcyA9ICF0aGlzLl92ZXJ0aWNhbCA/IGV2ZW50LmNsaWVudFggOiBldmVudC5jbGllbnRZO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8g0LXRgdC70Lgg0LLQvtC30LLRgCAlLCDRgtC+ICogMTAwXHJcbiAgICAgICAgbmV3VGh1bWJQb3NpdGlvbiA9IChldmVudFBvcyAtIG9mZnNldCkgLyBsZW5ndGg7XHJcblxyXG4gICAgICAgIGlmICggdGhpcy5fdGh1bWJGaXJzdC5jbGFzc0xpc3QuY29udGFpbnMoJ3NsaWRlcl9fdGh1bWJfZGlzYWJsZWQnKSApIHtcclxuICAgICAgICAgICAgaXNMYXN0TW92ZWQgPSB0cnVlO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoIHRoaXMuX3RodW1iTGFzdC5jbGFzc0xpc3QuY29udGFpbnMoJ3NsaWRlcl9fdGh1bWJfZGlzYWJsZWQnKSApIHtcclxuICAgICAgICAgICAgaXNMYXN0TW92ZWQgPSBmYWxzZTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBsZXQgdG9wTGVmdDogc3RyaW5nID0gIXRoaXMuX3ZlcnRpY2FsID8gJ2xlZnQnIDogJ3RvcCc7XHJcblxyXG4gICAgICAgICAgICBsZXQgZmlyc3RUaHVtYlBvczogbnVtYmVyID0gcGFyc2VJbnQoIHRoaXMuX3RodW1iRmlyc3Quc3R5bGVbdG9wTGVmdF0gKTtcclxuICAgICAgICAgICAgbGV0IGxhc3RUaHVtYlBvczogbnVtYmVyID0gcGFyc2VJbnQoIHRoaXMuX3RodW1iTGFzdC5zdHlsZVt0b3BMZWZ0XSApO1xyXG5cclxuICAgICAgICAgICAgbGV0IGlzTGFzdENsb3NlcjogYm9vbGVhbjtcclxuICAgICAgICAgICAgaXNMYXN0Q2xvc2VyID0gTWF0aC5hYnMoZmlyc3RUaHVtYlBvcy8xMDAgLSBuZXdUaHVtYlBvc2l0aW9uKSA+IE1hdGguYWJzKGxhc3RUaHVtYlBvcy8xMDAgLSBuZXdUaHVtYlBvc2l0aW9uKTtcclxuXHJcbiAgICAgICAgICAgIGlzTGFzdE1vdmVkID0gaXNMYXN0Q2xvc2VyOyAgICAgICAgICAgIFxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKCBpc0xhc3RNb3ZlZCApIHtcclxuXHJcbiAgICAgICAgICAgIHRoaXMubm90aWZ5KHtcclxuICAgICAgICAgICAgICAgIHR5cGU6ICdMQVNUX1RIVU1CX01PVkVEJyxcclxuICAgICAgICAgICAgICAgIG9mZnNldFJhY2lvOiBuZXdUaHVtYlBvc2l0aW9uXHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICB9IGVsc2Uge1xyXG5cclxuICAgICAgICAgICAgdGhpcy5ub3RpZnkoe1xyXG4gICAgICAgICAgICAgICAgdHlwZTogJ0ZJUlNUX1RIVU1CX01PVkVEJyxcclxuICAgICAgICAgICAgICAgIG9mZnNldFJhY2lvOiBuZXdUaHVtYlBvc2l0aW9uXHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBoYW5kbGVUaHVtYlVwKGV2ZW50KTogdm9pZCB7XHJcbiAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIHRoaXMuaGFuZGxlVGh1bWJVcCk7XHJcbiAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgdGhpcy5oYW5kbGVUaHVtYk1vdmUpO1xyXG4gICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNoZW5kJywgdGhpcy5oYW5kbGVUaHVtYlVwKTtcclxuICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaG1vdmUnLCB0aGlzLmhhbmRsZVRodW1iTW92ZSk7XHJcblxyXG4gICAgICAgIHRoaXMuX2FjdGl2ZVRodW1iID0gdW5kZWZpbmVkO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgYnVpbGQob3B0aW9uczogSU9wdGlvbnMpOiB2b2lkIHtcclxuXHJcbiAgICAgICAgbGV0IHZhbGlkTGVuZ3RoOiBzdHJpbmcgPSB0aGlzLl9sZW5ndGggfHwgZGVmYXVsdE9wdGlvbnMubGVuZ3RoO1xyXG4gICAgICAgIHRoaXMuX2xlbmd0aCA9IHRoaXMuZ2V0VmFsaWRMZW5ndGgob3B0aW9ucy5sZW5ndGgsIHZhbGlkTGVuZ3RoKTtcclxuXHJcbiAgICAgICAgaWYgKCAhb3B0aW9ucy52ZXJ0aWNhbCApIHtcclxuICAgICAgICAgICAgdGhpcy5fdmVydGljYWwgPSBmYWxzZTtcclxuICAgICAgICAgICAgdGhpcy5fc2xpZGVyLnN0eWxlLndpZHRoID0gdGhpcy5fbGVuZ3RoO1xyXG4gICAgICAgICAgICB0aGlzLl9zbGlkZXIuc3R5bGUuaGVpZ2h0ID0gbnVsbDtcclxuICAgICAgICAgICAgdGhpcy5fc2xpZGVyLmNsYXNzTGlzdC5hZGQoJ3NsaWRlcl9ob3Jpem9udGFsJyk7XHJcbiAgICAgICAgICAgIHRoaXMuX3NsaWRlci5jbGFzc0xpc3QucmVtb3ZlKCdzbGlkZXJfdmVydGljYWwnKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLl92ZXJ0aWNhbCA9IHRydWU7XHJcbiAgICAgICAgICAgIHRoaXMuX3NsaWRlci5zdHlsZS5oZWlnaHQgPSB0aGlzLl9sZW5ndGg7XHJcbiAgICAgICAgICAgIHRoaXMuX3NsaWRlci5zdHlsZS53aWR0aCA9IG51bGw7XHJcbiAgICAgICAgICAgIHRoaXMuX3NsaWRlci5jbGFzc0xpc3QuYWRkKCdzbGlkZXJfdmVydGljYWwnKTtcclxuICAgICAgICAgICAgdGhpcy5fc2xpZGVyLmNsYXNzTGlzdC5yZW1vdmUoJ3NsaWRlcl9ob3Jpem9udGFsJyk7ICAgICAgICAgIFxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5fYmFyID0gdGhpcy5idWlsZE5vZGUodGhpcy5fc2xpZGVyLCAnc2xpZGVyX19iYXInKTtcclxuXHJcbiAgICAgICAgdGhpcy5idWlsZFRodW1icyhvcHRpb25zKTtcclxuXHJcbiAgICAgICAgdGhpcy5zZXRCYXJQb3NpdGlvbigpO1xyXG5cclxuICAgICAgICBpZiAoIG9wdGlvbnMudG9vbHRpcCApIHtcclxuICAgICAgICAgICAgdGhpcy5idWlsZFRvb2x0aXBzKG9wdGlvbnMpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICBpZiAoIG9wdGlvbnMuc2NhbGUgKSB7XHJcbiAgICAgICAgICAgIHRoaXMuYnVpbGRTY2FsZShvcHRpb25zKTtcclxuICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICB0aGlzLmhhbmRsZVRodW1iRG93biA9IHRoaXMuaGFuZGxlVGh1bWJEb3duLmJpbmQodGhpcyk7XHJcbiAgICAgICAgdGhpcy5oYW5kbGVUaHVtYk1vdmUgPSB0aGlzLmhhbmRsZVRodW1iTW92ZS5iaW5kKHRoaXMpO1xyXG4gICAgICAgIHRoaXMuaGFuZGxlVGh1bWJVcCA9IHRoaXMuaGFuZGxlVGh1bWJVcC5iaW5kKHRoaXMpO1xyXG4gICAgICAgIHRoaXMuaGFuZGxlU2xpZGVyQ2xpY2sgPSB0aGlzLmhhbmRsZVNsaWRlckNsaWNrLmJpbmQodGhpcyk7XHJcblxyXG5cclxuICAgICAgICB0aGlzLl90aHVtYkZpcnN0LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIiwgdGhpcy5oYW5kbGVUaHVtYkRvd24pO1xyXG4gICAgICAgIHRoaXMuX3RodW1iRmlyc3QuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNoc3RhcnRcIiwgdGhpcy5oYW5kbGVUaHVtYkRvd24pO1xyXG5cclxuICAgICAgICB0aGlzLl90aHVtYkxhc3QuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLCB0aGlzLmhhbmRsZVRodW1iRG93bik7XHJcbiAgICAgICAgdGhpcy5fdGh1bWJMYXN0LmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaHN0YXJ0XCIsIHRoaXMuaGFuZGxlVGh1bWJEb3duKTtcclxuXHJcbiAgICAgICAgdGhpcy5fc2xpZGVyLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5oYW5kbGVTbGlkZXJDbGljayk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSByZWJ1aWxkKG9wdGlvbnM6IElPcHRpb25zKTogdm9pZCB7XHJcbiAgICAgICAgbGV0IHByZXZPcHRpb25zOiBJVmlld09wdGlvbnMgPSB0aGlzLmdldE9wdGlvbnMoKTtcclxuICAgICAgICBvcHRpb25zID0gT2JqZWN0LmFzc2lnbih7fSwgcHJldk9wdGlvbnMsIG9wdGlvbnMpO1xyXG5cclxuICAgICAgICBmb3IgKGxldCBrZXkgaW4gdGhpcykge1xyXG4gICAgICAgICAgICBpZiAoa2V5ICE9ICdfc2xpZGVyJykge1xyXG4gICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzW2tleV0gPSB0aGlzLnJlbW92ZU5vZGUodGhpc1trZXldKTtcclxuICAgICAgICAgICAgICAgIH0gY2F0Y2gge30gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgdGhpcy5idWlsZChvcHRpb25zKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHZhbGlkYXRlKG9wdGlvbnM6IElWaWV3T3B0aW9ucyk6IHZvaWQge1xyXG4gICAgICAgIFxyXG4gICAgICAgIHRoaXMuX3dhcm5pbmdzID0ge307XHJcbiAgICAgICAgdGhpcy5fd2FybmluZ3MgPSB2YWxpZGF0ZVZpZXcob3B0aW9ucyk7XHJcblxyXG4gICAgICAgIGlmICggT2JqZWN0LmtleXModGhpcy5fd2FybmluZ3MpLmxlbmd0aCAhPSAwICkge1xyXG5cclxuICAgICAgICAgICAgbGV0IHdhcm5pbmdzOiBJV2FybmluZ3MgPSBPYmplY3QuYXNzaWduKHt9LCB0aGlzLl93YXJuaW5ncyk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICB0aGlzLm5vdGlmeSh7XHJcbiAgICAgICAgICAgICAgICB0eXBlOiAnV0FSTklOR1MnLFxyXG4gICAgICAgICAgICAgICAgd2FybmluZ3M6IHdhcm5pbmdzXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgYnVpbGRUaHVtYnMob3B0aW9uczogSU9wdGlvbnMpOiB2b2lkIHtcclxuICAgICAgICBsZXQgeyByYW5nZSwgcmV2ZXJzZSB9ID0gb3B0aW9ucztcclxuICAgICAgICB0aGlzLl90aHVtYkZpcnN0ID0gdGhpcy5idWlsZE5vZGUodGhpcy5fc2xpZGVyLCAnc2xpZGVyX190aHVtYicsICdzbGlkZXJfX3RodW1iX2ZpcnN0Jyk7XHJcbiAgICAgICAgdGhpcy5fdGh1bWJMYXN0ID0gdGhpcy5idWlsZE5vZGUodGhpcy5fc2xpZGVyLCAnc2xpZGVyX190aHVtYicsICdzbGlkZXJfX3RodW1iX2xhc3QnKTtcclxuXHJcbiAgICAgICAgaWYgKCAhcmFuZ2UgKSB7XHJcbiAgICAgICAgICAgIGlmICggIXJldmVyc2UgKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl90aHVtYkZpcnN0LmNsYXNzTGlzdC5hZGQoJ3NsaWRlcl9fdGh1bWJfZGlzYWJsZWQnKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3RodW1iTGFzdC5jbGFzc0xpc3QuYWRkKCdzbGlkZXJfX3RodW1iX2Rpc2FibGVkJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuc2V0VGh1bWJzKG9wdGlvbnMpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgc2V0VGh1bWJzKG9wdGlvbnM6IElNb2RlbE9wdGlvbnMpOiB2b2lkIHtcclxuICAgICAgICBsZXQgeyBiZWdpbiwgZW5kLCByZXZlcnNlIH0gPSBvcHRpb25zO1xyXG4gICAgICAgIGxldCBiZWdpblBvc2l0aW9uOiBzdHJpbmcgPSB0aGlzLmZpbmRUaHVtYlBvc2l0aW9uKGJlZ2luLCBvcHRpb25zKTtcclxuICAgICAgICBsZXQgZW5kUG9zaXRpb246IHN0cmluZyA9IHRoaXMuZmluZFRodW1iUG9zaXRpb24oZW5kLCBvcHRpb25zKTtcclxuXHJcbiAgICAgICAgaWYgKCAhcmV2ZXJzZSApIHtcclxuICAgICAgICAgICAgdGhpcy5zZXRUaHVtYlBvc2l0aW9uKHRoaXMuX3RodW1iRmlyc3QsIGJlZ2luUG9zaXRpb24pO1xyXG4gICAgICAgICAgICB0aGlzLnNldFRodW1iUG9zaXRpb24odGhpcy5fdGh1bWJMYXN0LCBlbmRQb3NpdGlvbik7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5zZXRUaHVtYlBvc2l0aW9uKHRoaXMuX3RodW1iRmlyc3QsIGVuZFBvc2l0aW9uKTtcclxuICAgICAgICAgICAgdGhpcy5zZXRUaHVtYlBvc2l0aW9uKHRoaXMuX3RodW1iTGFzdCwgYmVnaW5Qb3NpdGlvbik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgc2V0QmFyUG9zaXRpb24oKTogdm9pZCB7XHJcbiAgICAgICAgbGV0IHN0YXJ0OiBudW1iZXIgfCBzdHJpbmc7XHJcbiAgICAgICAgbGV0IGxlbmd0aDogbnVtYmVyIHwgc3RyaW5nO1xyXG4gICAgICAgIGxldCB0b3BMZWZ0OiBzdHJpbmcgPSAhdGhpcy5fdmVydGljYWwgPyAnbGVmdCcgOiAndG9wJztcclxuICAgICAgICBsZXQgd2lkdGhIZWlnaHQ6IHN0cmluZyA9ICF0aGlzLl92ZXJ0aWNhbCA/ICd3aWR0aCcgOiAnaGVpZ2h0JztcclxuXHJcbiAgICAgICAgc3RhcnQgPSB0aGlzLl90aHVtYkZpcnN0LnN0eWxlW3RvcExlZnRdO1xyXG4gICAgICAgIGxlbmd0aCA9IHRoaXMuX3RodW1iTGFzdC5zdHlsZVt0b3BMZWZ0XS5zbGljZSgwLCAtMSkgLSB0aGlzLl90aHVtYkZpcnN0LnN0eWxlW3RvcExlZnRdLnNsaWNlKDAsIC0xKSAgKyAnJSc7XHJcblxyXG4gICAgICAgIHRoaXMuX2Jhci5zdHlsZVt0b3BMZWZ0XSA9IHN0YXJ0O1xyXG4gICAgICAgIHRoaXMuX2Jhci5zdHlsZVt3aWR0aEhlaWdodF0gPSBsZW5ndGg7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBidWlsZFRvb2x0aXBzKG9wdGlvbnM6IElPcHRpb25zKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5fdG9vbHRpcEZpcnN0ID0gdGhpcy5idWlsZE5vZGUodGhpcy5fdGh1bWJGaXJzdCwgJ3NsaWRlcl9fdG9vbHRpcCcsICdzbGlkZXJfX3Rvb2x0aXBfZmlyc3QnKTtcclxuICAgICAgICB0aGlzLl90b29sdGlwTGFzdCA9IHRoaXMuYnVpbGROb2RlKHRoaXMuX3RodW1iTGFzdCwgJ3NsaWRlcl9fdG9vbHRpcCcsICdzbGlkZXJfX3Rvb2x0aXBfbGFzdCcpO1xyXG5cclxuICAgICAgICB0aGlzLnNldFRvb2x0aXBWYWx1ZXMob3B0aW9ucyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBidWlsZFNjYWxlKG9wdGlvbnM6IElPcHRpb25zKTogdm9pZCB7XHJcbiAgICAgICAgbGV0IHsgbWluLCBtYXgsIHN0ZXAsIHJldmVyc2UsIGN1c3RvbVZhbHVlcyB9ID0gb3B0aW9ucztcclxuICAgICAgICBsZXQgc2NhbGU6IEhUTUxEaXZFbGVtZW50O1xyXG4gICAgICAgIGxldCBkaXZpc2lvbjogSFRNTERpdkVsZW1lbnQ7XHJcbiAgICAgICAgbGV0IHZhbDogbnVtYmVyIHwgc3RyaW5nO1xyXG4gICAgICAgIGxldCBpbmRlbnQ6IG51bWJlciB8IHN0cmluZztcclxuICAgICAgICBsZXQgbGVuZ3RoOiBudW1iZXIgPSBtYXggLSBtaW47XHJcblxyXG4gICAgICAgIHNjYWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgc2NhbGUuY2xhc3NMaXN0LmFkZCgnc2xpZGVyX19zY2FsZScpO1xyXG5cclxuICAgICAgICBmb3IgKCBsZXQgaTogbnVtYmVyID0gMDsgaSA8PSBnZXROdW1iZXJPZlN0ZXBzKG1pbiwgbWF4LCBzdGVwKTsgaSsrICkge1xyXG5cclxuICAgICAgICAgICAgaWYgKCAhcmV2ZXJzZSApIHtcclxuICAgICAgICAgICAgICAgIHZhbCA9IG1pbiArIHN0ZXAgKiBpO1xyXG4gICAgICAgICAgICAgICAgdmFsID0gTWF0aC5taW4odmFsLCBtYXgpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdmFsID0gbWF4IC0gc3RlcCAqIGk7XHJcbiAgICAgICAgICAgICAgICB2YWwgPSBNYXRoLm1heCh2YWwsIG1pbik7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGluZGVudCA9IGkgKiBzdGVwIDwgbGVuZ3RoID8gaSAqIHN0ZXAgOiBsZW5ndGg7IFxyXG4gICAgICAgICAgICBpbmRlbnQgPSBpbmRlbnQgLyBsZW5ndGggKiAxMDAgKyAnJSc7XHJcblxyXG4gICAgICAgICAgICB2YWwgPSBjdXN0b21WYWx1ZXMgPyBjdXN0b21WYWx1ZXNbdmFsXSA6IHZhbDtcclxuXHJcbiAgICAgICAgICAgIGRpdmlzaW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgICAgIGRpdmlzaW9uLmNsYXNzTGlzdC5hZGQoJ3NsaWRlcl9fc2NhbGUtZGl2aXNpb24nKTtcclxuICAgICAgICAgICAgZGl2aXNpb24uaW5uZXJIVE1MID0gJzxzcGFuIGNsYXNzPVwic2xpZGVyX19zY2FsZS1kaXZpc2lvbi10ZXh0XCI+JyArIHZhbCArICc8L3NwYW4+JztcclxuICAgICAgICAgICAgb3B0aW9ucy52ZXJ0aWNhbCA/IGRpdmlzaW9uLnN0eWxlLnRvcCA9IGluZGVudCA6IGRpdmlzaW9uLnN0eWxlLmxlZnQgPSBpbmRlbnQ7XHJcblxyXG4gICAgICAgICAgICBzY2FsZS5hcHBlbmQoZGl2aXNpb24pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5fc2xpZGVyLnByZXBlbmQoc2NhbGUpOyAgICAgICAgXHJcbiAgICAgICAgdGhpcy5fc2NhbGUgPSBzY2FsZTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHNldFRvb2x0aXBWYWx1ZXMob3B0aW9uczogSU1vZGVsT3B0aW9ucyk6IHZvaWQge1xyXG4gICAgICAgIGxldCB7IGJlZ2luLCBlbmQsIHJldmVyc2UsIGN1c3RvbVZhbHVlcyB9ID0gb3B0aW9ucztcclxuICAgICAgICBsZXQgYmVnaW5WYWx1ZSA9IGN1c3RvbVZhbHVlcyA/IGN1c3RvbVZhbHVlc1tiZWdpbl0gOiBiZWdpbjtcclxuICAgICAgICBsZXQgZW5kVmFsdWUgPSBjdXN0b21WYWx1ZXMgPyBjdXN0b21WYWx1ZXNbZW5kXSA6IGVuZDtcclxuXHJcbiAgICAgICAgaWYgKCFyZXZlcnNlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3Rvb2x0aXBGaXJzdC50ZXh0Q29udGVudCA9IGJlZ2luVmFsdWUgYXMgc3RyaW5nO1xyXG4gICAgICAgICAgICB0aGlzLl90b29sdGlwTGFzdC50ZXh0Q29udGVudCA9IGVuZFZhbHVlIGFzIHN0cmluZztcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLl90b29sdGlwRmlyc3QudGV4dENvbnRlbnQgPSBlbmRWYWx1ZSBhcyBzdHJpbmc7XHJcbiAgICAgICAgICAgIHRoaXMuX3Rvb2x0aXBMYXN0LnRleHRDb250ZW50ID0gYmVnaW5WYWx1ZSBhcyBzdHJpbmc7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgc2V0VGh1bWJQb3NpdGlvbih0aHVtYk5vZGU6IEhUTUxEaXZFbGVtZW50LCBwb3NpdGlvbjogc3RyaW5nKTogdm9pZCB7XHJcbiAgICAgICAgaWYgKCAhdGhpcy5fdmVydGljYWwgKSB7XHJcbiAgICAgICAgICAgIHRodW1iTm9kZS5zdHlsZS50b3AgPSBudWxsO1xyXG4gICAgICAgICAgICB0aHVtYk5vZGUuc3R5bGUubGVmdCA9IHBvc2l0aW9uO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRodW1iTm9kZS5zdHlsZS5sZWZ0ID0gbnVsbDtcclxuICAgICAgICAgICAgdGh1bWJOb2RlLnN0eWxlLnRvcCA9IHBvc2l0aW9uO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8geiBpbmRleFxyXG4gICAgICAgIGlmICggdGhpcy5fdGh1bWJGaXJzdCApIHtcclxuICAgICAgICAgICAgaWYgKCAhdGhpcy5fdmVydGljYWwgKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoICh0aGlzLl90aHVtYkZpcnN0LnN0eWxlLmxlZnQgPT0gJzEwMCUnKSB8fCAodGhpcy5fdGh1bWJGaXJzdC5zdHlsZS50b3AgPT0gJzEwMCUnKSApIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl90aHVtYkZpcnN0LnN0eWxlLnpJbmRleCA9ICcxJztcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fdGh1bWJGaXJzdC5zdHlsZS56SW5kZXggPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgfSAgXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBmaW5kVGh1bWJQb3NpdGlvbih2YWx1ZTogbnVtYmVyLCBvcHRpb25zOiBJTW9kZWxPcHRpb25zKTogc3RyaW5nIHtcclxuICAgICAgICBsZXQgeyBtaW4sIG1heCwgcmV2ZXJzZSB9ID0gb3B0aW9ucztcclxuICAgICAgICBsZXQgcG9zOiBzdHJpbmc7XHJcbiAgICAgICAgcG9zID0gIXJldmVyc2UgP1xyXG4gICAgICAgICh2YWx1ZSAtIG1pbikgLyAobWF4IC0gbWluKSAqIDEwMCArICclJyA6XHJcbiAgICAgICAgKG1heCAtIHZhbHVlKSAvIChtYXggLSBtaW4pICogMTAwICsgJyUnXHJcbiAgICAgICAgcmV0dXJuIHBvcztcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHJlbW92ZU5vZGUobm9kZTogSFRNTERpdkVsZW1lbnQpOiB1bmRlZmluZWQge1xyXG4gICAgICAgIG5vZGUucmVtb3ZlKCk7XHJcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGJ1aWxkTm9kZShwYXJlbnROb2RlOiBIVE1MRGl2RWxlbWVudCwgLi4uY2xhc3Nlczogc3RyaW5nW10pOiBIVE1MRGl2RWxlbWVudCB7XHJcbiAgICAgICAgbGV0IG5vZGU6IEhUTUxEaXZFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7ICAgICBcclxuXHJcbiAgICAgICAgZm9yICggbGV0IGk6IG51bWJlciA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKysgKSB7XHJcbiAgICAgICAgICAgIG5vZGUuY2xhc3NMaXN0LmFkZChhcmd1bWVudHNbaV0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBwYXJlbnROb2RlLmFwcGVuZChub2RlKTtcclxuICAgICAgICByZXR1cm4gbm9kZTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgcHJpdmF0ZSBnZXRWYWxpZExlbmd0aChzdHI6IGFueSwgdmFsaWRMZW5ndGg6IHN0cmluZyk6IHN0cmluZyB7XHJcbiAgICAgICAgaWYgKCB0eXBlb2YgKCcnICsgc3RyKSA9PSAnc3RyaW5nJyApIHtcclxuICAgICAgICAgICAgbGV0IHIgPSAoJycgKyBzdHIpLm1hdGNoKC9eXFxkezEsM31bLixdP1xcZCoocHh8ZW18cmVtfCV8dmh8dncpPyQvaSk7XHJcbiAgICAgICAgICAgIGlmICggciAmJiBpc051bWVyaWMoclswXSkgKSB7IFxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJbMF0udG9Mb3dlckNhc2UoKS5yZXBsYWNlKCcsJywgJy4nKSArICdweCc7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoIHIgKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gclswXS50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoJywnLCAnLicpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbGlkTGVuZ3RoXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBnZXRMZW5ndGhJblB4KCk6IG51bWJlciB7XHJcbiAgICAgICAgbGV0IGxlbmd0aDogbnVtYmVyID0gIXRoaXMuX3ZlcnRpY2FsID9cclxuICAgICAgICB0aGlzLl9zbGlkZXIub2Zmc2V0V2lkdGggOlxyXG4gICAgICAgIHRoaXMuX3NsaWRlci5vZmZzZXRIZWlnaHQ7XHJcblxyXG4gICAgICAgIHJldHVybiBsZW5ndGg7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBnZXRPZmZzZXRJblB4KCk6IG51bWJlciB7XHJcbiAgICAgICAgbGV0IG9mZnNldDogbnVtYmVyID0gIXRoaXMuX3ZlcnRpY2FsID9cclxuICAgICAgICB0aGlzLl9zbGlkZXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkubGVmdCA6XHJcbiAgICAgICAgdGhpcy5fc2xpZGVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcDtcclxuXHJcbiAgICAgICAgcmV0dXJuIG9mZnNldDtcclxuICAgIH1cclxufVxyXG5cclxuXHJcbmV4cG9ydCB7IElWaWV3LCBJVmlld09wdGlvbnMgfTtcclxuZXhwb3J0IGRlZmF1bHQgVmlldzsiLCJpbXBvcnQgeyBJT3B0aW9ucywgZGVmYXVsdE9wdGlvbnMgfSBmcm9tICcuL2RlZmF1bHRPcHRpb25zJztcclxuaW1wb3J0IE1vZGVsLCB7IElNb2RlbCwgSU1vZGVsT3B0aW9ucyB9IGZyb20gJy4vTW9kZWwnO1xyXG5pbXBvcnQgVmlldywgeyBJVmlldyB9IGZyb20gJy4vVmlldyc7XHJcbmltcG9ydCB7IElPYnNlcnZhYmxlLCBPYnNlcnZhYmxlLCBNb2RlbE1lc3NhZ2UsIFZpZXdNZXNzYWdlLCBPYnNlcnZhYmxlUHJlc2VudGVyIH0gIGZyb20gJy4vT2JzZXJ2ZXInO1xyXG5pbXBvcnQgeyBJV2FybmluZ3MgfSBmcm9tICcuL3ZhbGlkYXRpb25zJztcclxuXHJcblxyXG5pbnRlcmZhY2UgSVByZXNlbnRlciBleHRlbmRzIElPYnNlcnZhYmxlIHtcclxuICAgIHVwZGF0ZShvcHRpb25zOiBJT3B0aW9ucyk6IHZvaWQ7XHJcblxyXG4gICAgZ2V0T3B0aW9ucygpOiBJT3B0aW9ucztcclxuICAgIGdldFdhcm5pbmdzKCk6IElXYXJuaW5ncztcclxufVxyXG5cclxuY2xhc3MgUHJlc2VudGVyIGV4dGVuZHMgT2JzZXJ2YWJsZVByZXNlbnRlciBpbXBsZW1lbnRzIElQcmVzZW50ZXIge1xyXG5cclxuICAgIHByaXZhdGUgX21vZGVsOiBJTW9kZWw7XHJcbiAgICBwcml2YXRlIF92aWV3OiBJVmlldztcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcihtb2RlbDogSU1vZGVsLCB2aWV3OiBJVmlldykge1xyXG5cclxuICAgICAgICBzdXBlcigpO1xyXG5cclxuICAgICAgICB0aGlzLl9tb2RlbCA9IG1vZGVsO1xyXG4gICAgICAgIHRoaXMuX3ZpZXcgPSB2aWV3O1xyXG5cclxuICAgICAgICBsZXQgdGhhdCA9IHRoaXM7XHJcblxyXG4gICAgICAgIHRoaXMuX21vZGVsLnN1YnNjcmliZShmdW5jdGlvbihtZXNzYWdlOiBNb2RlbE1lc3NhZ2UpOiB2b2lkIHtcclxuXHJcbiAgICAgICAgICAgIHN3aXRjaCAobWVzc2FnZS50eXBlKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlICdORVdfVkFMVUUnOlxyXG4gICAgICAgICAgICAgICAgICAgIHRoYXQuX3ZpZXcudXBkYXRlKG1lc3NhZ2Uub3B0aW9ucyk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhhdC5ub3RpZnkodGhhdC5nZXRPcHRpb25zKCkpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuX3ZpZXcuc3Vic2NyaWJlKGZ1bmN0aW9uKG1lc3NhZ2U6IFZpZXdNZXNzYWdlKTogdm9pZCB7XHJcblxyXG4gICAgICAgICAgICBzd2l0Y2ggKG1lc3NhZ2UudHlwZSkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnTEFTVF9USFVNQl9NT1ZFRCc6XHJcbiAgICAgICAgICAgICAgICAgICAgIXRoYXQuX21vZGVsLmdldE9wdGlvbnMoKS5yZXZlcnNlID9cclxuICAgICAgICAgICAgICAgICAgICB0aGF0Ll9tb2RlbC5zZXRFbmRCeU9mZnNldFJhY2lvKG1lc3NhZ2Uub2Zmc2V0UmFjaW8pIDpcclxuICAgICAgICAgICAgICAgICAgICB0aGF0Ll9tb2RlbC5zZXRCZWdpbkJ5T2Zmc2V0UmFjaW8obWVzc2FnZS5vZmZzZXRSYWNpbyk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICAgICAgY2FzZSAnRklSU1RfVEhVTUJfTU9WRUQnOlxyXG4gICAgICAgICAgICAgICAgICAgICF0aGF0Ll9tb2RlbC5nZXRPcHRpb25zKCkucmV2ZXJzZSA/XHJcbiAgICAgICAgICAgICAgICAgICAgdGhhdC5fbW9kZWwuc2V0QmVnaW5CeU9mZnNldFJhY2lvKG1lc3NhZ2Uub2Zmc2V0UmFjaW8pIDpcclxuICAgICAgICAgICAgICAgICAgICB0aGF0Ll9tb2RlbC5zZXRFbmRCeU9mZnNldFJhY2lvKG1lc3NhZ2Uub2Zmc2V0UmFjaW8pO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIHB1YmxpYyB1cGRhdGUob3B0aW9uczogSU9wdGlvbnMpOiB2b2lkIHtcclxuXHJcbiAgICAgICAgbGV0IGlzTW9kZWxVcGRhdGVkOiBib29sZWFuID0gZmFsc2U7XHJcbiAgICAgICAgbGV0IGlzVmlld1VwZGF0ZWQ6IGJvb2xlYW4gPSBmYWxzZTtcclxuXHJcbiAgICAgICAgbGV0IG1vZGVsT3B0aW9uczogc3RyaW5nW10gPSBbJ3ZhbHVlJywgJ21pbicsICdtYXgnLCAnc3RlcCcsICdyZXZlcnNlJywgJ3JhbmdlJywgJ2N1c3RvbVZhbHVlcyddO1xyXG5cclxuICAgICAgICBtb2RlbE9wdGlvbnMuZm9yRWFjaChmdW5jdGlvbihpdGVtKSB7XHJcbiAgICAgICAgICAgIGlmICggb3B0aW9ucy5oYXNPd25Qcm9wZXJ0eShpdGVtKSApIHtcclxuICAgICAgICAgICAgICAgIGlzTW9kZWxVcGRhdGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBpZiAoaXNNb2RlbFVwZGF0ZWQpIHsgXHJcbiAgICAgICAgICAgIHRoaXMuX21vZGVsLnVwZGF0ZShvcHRpb25zKTtcclxuICAgICAgICAgICAgaXNWaWV3VXBkYXRlZCA9IHRydWU7XHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgbGV0IHZpZXdPcHRpb25zOiBzdHJpbmdbXSA9IFsnbGVuZ3RoJywgJ3ZlcnRpY2FsJywgJ3Rvb2x0aXAnLCAnc2NhbGUnXTtcclxuXHJcbiAgICAgICAgdmlld09wdGlvbnMuZm9yRWFjaChmdW5jdGlvbihpdGVtKSB7XHJcbiAgICAgICAgICAgIGlmICggb3B0aW9ucy5oYXNPd25Qcm9wZXJ0eShpdGVtKSApIHtcclxuICAgICAgICAgICAgICAgIGlzVmlld1VwZGF0ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGlmIChpc1ZpZXdVcGRhdGVkKSB7XHJcbiAgICAgICAgICAgIG9wdGlvbnMgPSBPYmplY3QuYXNzaWduKG9wdGlvbnMsIHRoaXMuX21vZGVsLmdldE9wdGlvbnMoKSk7XHJcbiAgICAgICAgICAgIHRoaXMuX3ZpZXcucmVyZW5kZXIob3B0aW9ucyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoaXNNb2RlbFVwZGF0ZWQgfHwgaXNWaWV3VXBkYXRlZCkge1xyXG5cclxuICAgICAgICAgICAgLy8hISEhIVxyXG4gICAgICAgICAgICBsZXQgd2FybmluZ3MgPSB0aGlzLmdldFdhcm5pbmdzKCk7XHJcbiAgICAgICAgICAgIGlmICggT2JqZWN0LmtleXMod2FybmluZ3MpLmxlbmd0aCAhPSAwICkgeyB3YXJuaW5ncyA9IHVuZGVmaW5lZCB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLm5vdGlmeSggdGhpcy5nZXRPcHRpb25zKCksIHdhcm5pbmdzICk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuXHJcbiAgICBwdWJsaWMgZ2V0T3B0aW9ucygpOiBJT3B0aW9ucyB7XHJcbiAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIHRoaXMuX21vZGVsLmdldE9wdGlvbnMoKSwgdGhpcy5fdmlldy5nZXRPcHRpb25zKCkpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXRXYXJuaW5ncygpOiBJV2FybmluZ3Mge1xyXG4gICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCB0aGlzLl9tb2RlbC5nZXRXYXJuaW5ncygpLCB0aGlzLl92aWV3LmdldFdhcm5pbmdzKCkpO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgeyBJUHJlc2VudGVyIH07XHJcbmV4cG9ydCBkZWZhdWx0IFByZXNlbnRlcjsiXSwic291cmNlUm9vdCI6IiJ9